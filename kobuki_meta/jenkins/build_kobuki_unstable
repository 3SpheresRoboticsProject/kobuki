# installs and builds kobuki's software bundle

sudo apt-get install -y ros-electric-turtlebot-robot ros-electric-dynamixel-motor
rm -rf ${WORKSPACE}/kobuki_workspace
rm -rf ${WORKSPACE}/yujin/unstable/stacks
rosinstall ${WORKSPACE}/yujin/unstable/stacks http://embedded-control-library.googlecode.com/svn/trunk/ecl_unstable.rosinstall
rosinstall ${WORKSPACE}/yujin/unstable/stacks http://svn.yujin.com/ycs/trunk/ycs_unstable.rosinstall
rosinstall ${WORKSPACE}/kobuki_workspace https://raw.github.com/yujinrobot/kobuki/master/kobuki_unstable.rosinstall
source ${WORKSPACE}/kobuki_workspace/setup.bash
cd ${WORKSPACE}/yujin/unstable/stacks/ycs/ycs_tools/ycs_bin/scripts; ./ycssetup
source ${WORKSPACE}/kobuki_workspace/setup.bash
export ROS_PARALLEL_JOBS="-l5"
export ROS_HOME=${WORKSPACE}
rosmake kobuki_meta
rosmake --target=test kobuki_meto



