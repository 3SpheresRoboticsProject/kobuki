<!--
  This is a robot specific configuration for the kobuki runtime.
 -->
<launch>
  <arg name="simulation" value="false"/>
  <param name="/use_sim_time" value="$(arg simulation)"/>

  <!-- DJS : This xacro needs to be confirmed as turtlebot compatible, see turtlebot_description)/robots/turtlebot.urdf.xacro -->
  <arg name="urdf_file" default="$(find xacro)/xacro.py '$(find kobuki_description)/robots/kobuki_kinect.urdf.xacro'" />
  <param name="robot_description" command="$(arg urdf_file)" />
  
  <!-- DJS : who is using these two parameters? -->
  <param name="robot/name" value="turtlebot2"/>
  <param name="robot/type" value="turtlebot"/>

  <group ns="kobuki">
    <include file="$(find kobuki_meta)/resources/launch/components/base.launch">
      <arg name="simulation" value="$(arg simulation)"/>
    </include>
    <node pkg="robot_state_publisher" type="state_publisher" name="robot_state_publisher" output="screen">
      <param name="publish_frequency" type="double" value="5.0" />
      <!--param name="tf_prefix" type="string" value="" /-->
    </node>

    <!-- The odometry estimator -->
    <!-- 
    <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
      <param name="freq" value="30.0"/>
      <param name="sensor_timeout" value="0.1"/>
      <param name="odom_used" value="true"/>
      <param name="imu_used" value="true"/>
      <param name="vo_used" value="false"/>
      <param name="output_frame" value="odom"/>
    </node>
     -->

  </group>
  
  <!-- 
  <include file="$(find turtlebot_bringup)/app_manager.launch" />
  
  <node pkg="diagnostic_aggregator" type="aggregator_node" name="diagnostic_aggregator" >
    <rosparam command="load" file="$(find turtlebot_bringup)/config/diagnostics.yaml" />
  </node>
   -->


</launch>
