<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>kobuki_driver: kobuki.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4db3a2f7aa3a8b9901e70dfeb2571af9.html">driver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">kobuki.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="kobuki_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> ** Includes</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;ecl/math.hpp&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;ecl/geometry/angle.hpp&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;ecl/time/sleep.hpp&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;ecl/converters.hpp&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;ecl/sigslots.hpp&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;ecl/geometry/angle.hpp&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;ecl/time/timestamp.hpp&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;../../include/kobuki_driver/kobuki.hpp&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;../../include/kobuki_driver/packet_handler/payload_headers.hpp&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> ** Namespaces</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacekobuki.html">kobuki</a></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> ** Implementation [PacketFinder]</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classkobuki_1_1PacketFinder.html#ad0d99bb21004deb5d2be16c49ca82f1e">   36</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classkobuki_1_1PacketFinder.html#ad0d99bb21004deb5d2be16c49ca82f1e">PacketFinder::checkSum</a>()</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> packet_size(<a class="code" href="classkobuki_1_1PacketFinderBase.html#aaa6673951c65a21948e94e6efbe41ff1">buffer</a>.size());</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cs(0);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 2; i &lt; packet_size; i++)</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    cs ^= <a class="code" href="classkobuki_1_1PacketFinderBase.html#aaa6673951c65a21948e94e6efbe41ff1">buffer</a>[i];</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> cs ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> ** Implementation [Initialisation]</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a4c767b0d60457092a6085ce0b1db7ff8">   51</a></span>&#160;<a class="code" href="classkobuki_1_1Kobuki.html#a4c767b0d60457092a6085ce0b1db7ff8">Kobuki::Kobuki</a>() :</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    shutdown_requested(false)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    , is_enabled(false)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    , is_connected(false)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    , is_alive(false)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    , version_info_reminder(0)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    , controller_info_reminder(0)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    , heading_offset(0.0/0.0)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    , velocity_commands_debug(4, 0)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a22de83f3db0db6dff0647299bbc5f90e">   66</a></span>&#160;<a class="code" href="classkobuki_1_1Kobuki.html#a22de83f3db0db6dff0647299bbc5f90e">Kobuki::~Kobuki</a>()</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a9e4447e3b2bb177155ee681daccdc274">disable</a>();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">shutdown_requested</a> = <span class="keyword">true</span>; <span class="comment">// thread&#39;s spin() will catch this and terminate</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a6330b66495007d2956a59a1931fde123">thread</a>.join();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.emit(<span class="stringliteral">&quot;Device: kobuki driver terminated.&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a0648c958434e641d4573721541099ee4">   74</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a0648c958434e641d4573721541099ee4">Kobuki::init</a>(<a class="code" href="classkobuki_1_1Parameters.html">Parameters</a> &amp;<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>) <span class="keywordflow">throw</span> (ecl::StandardException)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#ab69e82cd5161562203da02c5b39aeb1f">validate</a>())</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">throw</span> ecl::StandardException(LOC, ecl::ConfigurationError, <span class="stringliteral">&quot;Kobuki&#39;s parameter settings did not validate.&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  this-&gt;<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a> = <a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  std::string sigslots_namespace = <a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#a0717933338e84bc7907f7e8345e2347e">sigslots_namespace</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a1a5a6b8d26cd35c2904ff4ec1584359a">init</a>(sigslots_namespace);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// connect signals</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#af3c8487e4421094cc0eb38bfb621c414">sig_version_info</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/version_info&quot;</span>));</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#ae8e96e11dbf111aac453911cbd7ba45c">sig_controller_info</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/controller_info&quot;</span>));</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a780d7dacef70b02c22d1eae65be23411">sig_stream_data</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/stream_data&quot;</span>));</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a9fa84f5f2d6bf182a5b5f38a8be0d47c">sig_raw_data_command</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/raw_data_command&quot;</span>));</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a4752fa63c69f3fae94298a078769366e">sig_raw_data_stream</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/raw_data_stream&quot;</span>));</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a55d4149f90f900574e4639f543e09675">sig_raw_control_command</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/raw_control_command&quot;</span>));</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">//sig_serial_timeout.connect(sigslots_namespace+std::string(&quot;/serial_timeout&quot;));</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/ros_debug&quot;</span>));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">sig_info</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/ros_info&quot;</span>));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/ros_warn&quot;</span>));</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/ros_error&quot;</span>));</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">sig_named</a>.connect(sigslots_namespace + std::string(<span class="stringliteral">&quot;/ros_named&quot;</span>));</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.open(<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#a993217236ea68f063f5bc285414408e2">device_port</a>, ecl::BaudRate_115200, ecl::DataBits_8, ecl::StopBits_1, ecl::NoParity);  <span class="comment">// this will throw exceptions - NotFoundError, OpenError</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.block(4000); <span class="comment">// blocks by default, but just to be clear!</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">catch</span> (<span class="keyword">const</span> ecl::StandardException &amp;e)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (e.flag() == ecl::NotFoundError) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;device does not (yet) available, is the usb connected?.&quot;</span>); <span class="comment">// not a failure mode.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">throw</span> ecl::StandardException(LOC, e);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  ecl::PushAndPop&lt;unsigned char&gt; stx(2, 0);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  ecl::PushAndPop&lt;unsigned char&gt; etx(1);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  stx.push_back(0xaa);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  stx.push_back(0x55);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#a36345c2f2abf305954b882371ed9f9c3">configure</a>(sigslots_namespace, stx, etx, 1, 256, 1, <span class="keyword">true</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#ac5a6df7edf64e09a33f9f3c680eadf1b">acceleration_limiter</a>.<a class="code" href="classkobuki_1_1AccelerationLimiter.html#a0da69f213f2e3911ef235376bc3ab9a1">init</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#ab6eaa092677b34a152c9a11dfd3ff56f">enable_acceleration_limiter</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// in case the user changed these from the defaults</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classkobuki_1_1Battery.html#a0a8d941a6dec249504f5e3e03653fda2">Battery::capacity</a> = <a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#a0c7b04175141d702f520c4a963876143">battery_capacity</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classkobuki_1_1Battery.html#ab52bd0243682d8f2b4f6a7b9fdb143d3">Battery::low</a> = <a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#afbe3833926add7263db592c6b0116b36">battery_low</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classkobuki_1_1Battery.html#afed5fa95de7082b1d36e01bc7f551f56">Battery::dangerous</a> = <a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#a6332cc2748b6f7095e1eb463a024289d">battery_dangerous</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">/******************************************</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   ** Get Version Info Commands</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   *******************************************/</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">version_info_reminder</a> = 10;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#af88113d4e2bb59857a1194d76d813c6c">Command::GetVersionInfo</a>());</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">/******************************************</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">   ** Get Controller Info Commands</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   *******************************************/</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">controller_info_reminder</a> = 10;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a36510619abf35df4c293bc06e9bfb44c">Command::GetControllerGain</a>());</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">//sig_controller_info.emit(); //emit default gain</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a6330b66495007d2956a59a1931fde123">thread</a>.start(&amp;<a class="code" href="classkobuki_1_1Kobuki.html#a6a4ff5d9a33ec16d705c9a8911d50649">Kobuki::spin</a>, *<span class="keyword">this</span>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> ** Implementation [Runtime]</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#af4b1e5a79539f8b88a3873d23dc542f6">  156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#af4b1e5a79539f8b88a3873d23dc542f6">Kobuki::lockDataAccess</a>() {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#abb5b7aa70e7b2207f8e8a4412d7487f3">data_mutex</a>.lock();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a4811744d8cf462525716c9a15d5fea71">  164</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a4811744d8cf462525716c9a15d5fea71">Kobuki::unlockDataAccess</a>() {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#abb5b7aa70e7b2207f8e8a4412d7487f3">data_mutex</a>.unlock();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a6a4ff5d9a33ec16d705c9a8911d50649">  177</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a6a4ff5d9a33ec16d705c9a8911d50649">Kobuki::spin</a>()</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  ecl::TimeStamp last_signal_time;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  ecl::Duration timeout(0.1);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[256];</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">/*********************</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   ** Simulation Params</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   **********************/</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">shutdown_requested</a>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">/*********************</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">     ** Checking Connection</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">     **********************/</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.open() ) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">try</span> {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment">// this will throw exceptions - NotFoundError is the important one, handle it</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.open(<a class="code" href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">parameters</a>.<a class="code" href="classkobuki_1_1Parameters.html#a993217236ea68f063f5bc285414408e2">device_port</a>, ecl::BaudRate_115200, ecl::DataBits_8, ecl::StopBits_1, ecl::NoParity);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">sig_info</a>.emit(<span class="stringliteral">&quot;device is connected.&quot;</span>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.block(4000); <span class="comment">// blocks by default, but just to be clear!</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a>, <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">version_info_reminder</a> = 10;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">controller_info_reminder</a> = 10;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">catch</span> (<span class="keyword">const</span> ecl::StandardException &amp;e)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// windows throws OpenError if not connected</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (e.flag() == ecl::NotFoundError) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          <a class="code" href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">sig_info</a>.emit(<span class="stringliteral">&quot;device does not (yet) available on this port, waiting...&quot;</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.flag() == ecl::OpenError) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <a class="code" href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">sig_info</a>.emit(<span class="stringliteral">&quot;device failed to open, waiting... [&quot;</span> + std::string(e.what()) + <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          <span class="comment">// This is bad - some unknown error we&#39;re not handling! But at least throw and show what error we came across.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <span class="keywordflow">throw</span> ecl::StandardException(LOC, e);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        ecl::Sleep(5)(); <span class="comment">// five seconds</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">/*********************</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">     ** Read Incoming</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">     **********************/</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordtype">int</span> n = <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.read((<span class="keywordtype">char</span>*)buf, <a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#ac81c6f8d3f569447a6d0bc992060f37d">numberOfDataToRead</a>());</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (n == 0)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> &amp;&amp; ((ecl::TimeStamp() - last_signal_time) &gt; timeout))</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">version_info_reminder</a> = 10;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">controller_info_reminder</a> = 10;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.emit(<span class="stringliteral">&quot;Timed out while waiting for incoming bytes.&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a>, <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      std::ostringstream ostream;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      ostream &lt;&lt; <span class="stringliteral">&quot;kobuki_node : serial_read(&quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, packet_finder.numberOfDataToRead(&quot;</span> &lt;&lt; <a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#ac81c6f8d3f569447a6d0bc992060f37d">numberOfDataToRead</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="comment">//sig_debug.emit(ostream.str());</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">sig_named</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#a1eba78f120487d8435329e8ac48e6d94">log</a>(<span class="stringliteral">&quot;debug&quot;</span>, <span class="stringliteral">&quot;serial&quot;</span>, ostream.str()));</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="comment">// might be useful to send this to a topic if there is subscribers</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#ae80fbedeba41baf3dd2f3db93c812b44">update</a>(buf, n)) <span class="comment">// this clears packet finder&#39;s buffer and transfers important bytes into it</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="classkobuki_1_1PacketFinderBase.html#a7a548c36c0c0c85a290bf63d54f8211b">PacketFinder::BufferType</a> local_buffer;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#a3b59b2c70d61bf2180337eddfb0ae08c">getBuffer</a>(local_buffer); <span class="comment">// get a reference to packet finder&#39;s buffer.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#a4752fa63c69f3fae94298a078769366e">sig_raw_data_stream</a>.emit(local_buffer);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">packet_finder</a>.<a class="code" href="classkobuki_1_1PacketFinderBase.html#a3b7d8eb69f43f02a8cdbb9a908740bba">getPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>);<span class="comment">// get a reference to packet finder&#39;s buffer.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#af4b1e5a79539f8b88a3873d23dc542f6">lockDataAccess</a>();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>.size() &gt; 0)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;header_id: &quot; &lt;&lt; (unsigned int)data_buffer[0] &lt;&lt; &quot; | &quot;;</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;length: &quot; &lt;&lt; (unsigned int)data_buffer[1] &lt;&lt; &quot; | &quot;;</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;remains: &quot; &lt;&lt; data_buffer.size() &lt;&lt; &quot; | &quot;;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;local_buffer: &quot; &lt;&lt; local_buffer.size() &lt;&lt; &quot; | &quot;;</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">//std::cout &lt;&lt; std::endl;</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>[0])</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          <span class="comment">// these come with the streamed feedback</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eaa12b8af31be594c67ae5b9fdead6956b">Header::CoreSensors</a>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">core_sensors</a>.<a class="code" href="classkobuki_1_1CoreSensors.html#a040a72096617002a0d0f93b848006ebc">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">core_sensors</a>.<a class="code" href="classkobuki_1_1CoreSensors.html#a174414fa517ca33f2a1c73cd8f6d7327">data</a>, <a class="code" href="classkobuki_1_1Kobuki.html#a39c45a62a2480ad7bfec13c390fa610f">cliff</a>.<a class="code" href="classkobuki_1_1Cliff.html#ad804a517936d044162b4fd1985b5b191">data</a>.<a class="code" href="structkobuki_1_1Cliff_1_1Data.html#addf367ef49803e8814f0e468d87b78ac">bottom</a>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eabae79e6202055fb6d598e6ebaaad4ab6">Header::DockInfraRed</a>:</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a753915dbef81df0f85bd51dc20128255">dock_ir</a>.<a class="code" href="classkobuki_1_1DockIR.html#acee0bd7f154a549d8d5a0f56aa9a6771">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eae36a9397bdd2b3506cd80e4bf03f4d03">Header::Inertia</a>:</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">inertia</a>.<a class="code" href="classkobuki_1_1Inertia.html#a44d0ed2f43fd3598521fdb0104da3e5a">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="comment">// Issue #274: use first imu reading as zero heading; update when reseting odometry</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (std::isnan(<a class="code" href="classkobuki_1_1Kobuki.html#a13d29e78f65eb0eb459659b3afbf7685">heading_offset</a>) == <span class="keyword">true</span>)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;              <a class="code" href="classkobuki_1_1Kobuki.html#a13d29e78f65eb0eb459659b3afbf7685">heading_offset</a> = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">inertia</a>.<a class="code" href="classkobuki_1_1Inertia.html#a2d6db1d11b3a160786a1784920fa5f99">data</a>.<a class="code" href="structkobuki_1_1Inertia_1_1Data.html#a482542389a45c932f36ce4cda902babc">angle</a>) / 100.0) * ecl::pi / 180.0;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea272a26198f6b86a838b6ec1b9712897c">Header::Cliff</a>:</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a39c45a62a2480ad7bfec13c390fa610f">cliff</a>.<a class="code" href="classkobuki_1_1Cliff.html#ab4feb28d6b1863d7d1cd7b68d6963724">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eae397464bbb1ed55fb4479c159e2407c7">Header::Current</a>:</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#af841f499eedcdd0d0a03f143f36d46ae">current</a>.<a class="code" href="classkobuki_1_1Current.html#a0650572b8e343637d000a8c3682bed5d">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea1df38284e536a6b766c89847f5997cf7">Header::GpInput</a>:</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#aa919d8b508b8fa9ac2b380e91d91fbe7">gp_input</a>.<a class="code" href="classkobuki_1_1GpInput.html#a28b4dbbd1a1df1b22cda86193dadd60e">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#aa919d8b508b8fa9ac2b380e91d91fbe7">gp_input</a>.<a class="code" href="classkobuki_1_1GpInput.html#a2d71bd6d91b21763677f4f37e37cfc85">data</a>.<a class="code" href="structkobuki_1_1GpInput_1_1Data.html#a4d91ec153b1310b7ef99af7f61850906">digital_input</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eaab049380666126745d8da2e4eac0e391">Header::ThreeAxisGyro</a>:</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a416e41478d6941078d11f69f6a7a1207">three_axis_gyro</a>.<a class="code" href="classkobuki_1_1ThreeAxisGyro.html#a65c15215e2769e7227c3f1f772a445b1">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          <span class="comment">// the rest are only included on request</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eafb0bab4f1e5410d21e2727e9cb608f14">Header::Hardware</a>:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#ab3b7838b614cca5f785e52c8ea160b8c">hardware</a>.<a class="code" href="classkobuki_1_1Hardware.html#a0e30a67914debe3e5de881720273c17b">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="comment">//sig_version_info.emit(VersionInfo(firmware.data.version, hardware.data.version));</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea0164aceaf6a319f0666efbd463ada016">Header::Firmware</a>:</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#af41cef6ff3dc0ed1e7b256681544e1a2">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;              <span class="comment">// Check firmware/driver compatibility; major version must be the same</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;              <span class="keywordtype">int</span> version_match = <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a7a3014b781ce53ca8aabb3c3bef2abd0">check_major_version</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;              <span class="keywordflow">if</span> (version_match &lt; 0) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(<span class="stringliteral">&quot;Robot firmware is outdated and needs to be upgraded. Consult how-to on: &quot;</span> \</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                               <span class="stringliteral">&quot;http://kobuki.yujinrobot.com/home-en/documentation/howtos/upgrading-firmware&quot;</span>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(<span class="stringliteral">&quot;Robot firmware version is &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                             + <span class="stringliteral">&quot;; latest version is &quot;</span> + <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a644e63df3bb86a8da7eb81e206f19e70">current_version</a>());</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">shutdown_requested</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (version_match &gt; 0) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(<span class="stringliteral">&quot;Driver version isn&#39;t not compatible with robot firmware. Please upgrade driver&quot;</span>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <a class="code" href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">shutdown_requested</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;              }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;              {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="comment">// And minor version don&#39;t need to, but just make a suggestion</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                version_match = <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a1b7c68777973d97d33b0ddc79188f617">check_minor_version</a>();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="keywordflow">if</span> (version_match &lt; 0) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                  <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware is outdated; we suggest you to upgrade it &quot;</span> \</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                <span class="stringliteral">&quot;to benefit from the latest features. Consult how-to on: &quot;</span>  \</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                <span class="stringliteral">&quot;http://kobuki.yujinrobot.com/home-en/documentation/howtos/upgrading-firmware&quot;</span>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                  <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware version is &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                              + <span class="stringliteral">&quot;; latest version is &quot;</span> + <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a644e63df3bb86a8da7eb81e206f19e70">current_version</a>());</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (version_match &gt; 0) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                  <span class="comment">// Driver version is outdated; maybe we should also suggest to upgrade it, but this is not a typical case</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;              }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">catch</span> (std::out_of_range&amp; e)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;              <span class="comment">// Wrong version hardcoded on firmware; lowest value is 10000</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;              <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(std::string(<span class="stringliteral">&quot;Invalid firmware version number: &quot;</span>).append(e.what()));</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;              <a class="code" href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">shutdown_requested</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea1f2b4cda9fba93a0d733eed65a2f0c0e">Header::UniqueDeviceID</a>:</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#acddbc6dc21324a02d2118322c5eb7167">unique_device_id</a>.<a class="code" href="classkobuki_1_1UniqueDeviceID.html#ac3fefd5a6c768a52e96b1890afa41319">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#af3c8487e4421094cc0eb38bfb621c414">sig_version_info</a>.emit( <a class="code" href="classkobuki_1_1VersionInfo.html">VersionInfo</a>( <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>, <a class="code" href="classkobuki_1_1Kobuki.html#ab3b7838b614cca5f785e52c8ea160b8c">hardware</a>.<a class="code" href="classkobuki_1_1Hardware.html#a08f54bcf8166af54f50edc60e9f0e7e7">data</a>.<a class="code" href="structkobuki_1_1Hardware_1_1Data.html#ad8213b45a4780e33dfccc932f07aa0bc">version</a></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                , <a class="code" href="classkobuki_1_1Kobuki.html#acddbc6dc21324a02d2118322c5eb7167">unique_device_id</a>.<a class="code" href="classkobuki_1_1UniqueDeviceID.html#a4dccc63e08435b2cad91eed14d8ddf01">data</a>.<a class="code" href="structkobuki_1_1UniqueDeviceID_1_1Data.html#a288e270b6772a5eba47f967c2216e995">udid0</a>, <a class="code" href="classkobuki_1_1Kobuki.html#acddbc6dc21324a02d2118322c5eb7167">unique_device_id</a>.<a class="code" href="classkobuki_1_1UniqueDeviceID.html#a4dccc63e08435b2cad91eed14d8ddf01">data</a>.<a class="code" href="structkobuki_1_1UniqueDeviceID_1_1Data.html#a4839939a73f3e7d47f52b7399f6d8047">udid1</a>, <a class="code" href="classkobuki_1_1Kobuki.html#acddbc6dc21324a02d2118322c5eb7167">unique_device_id</a>.<a class="code" href="classkobuki_1_1UniqueDeviceID.html#a4dccc63e08435b2cad91eed14d8ddf01">data</a>.<a class="code" href="structkobuki_1_1UniqueDeviceID_1_1Data.html#ad8c475aafccda342e444fb6797a53de4">udid2</a> ));</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">sig_info</a>.emit(<span class="stringliteral">&quot;Version info - Hardware: &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#ab3b7838b614cca5f785e52c8ea160b8c">hardware</a>.<a class="code" href="classkobuki_1_1Hardware.html#a08f54bcf8166af54f50edc60e9f0e7e7">data</a>.<a class="code" href="structkobuki_1_1Hardware_1_1Data.html#ad8213b45a4780e33dfccc932f07aa0bc">version</a>)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                     + <span class="stringliteral">&quot;. Firmware: &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>));</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">version_info_reminder</a> = 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eafd5712665e6dddce0980268025626ad8">Header::ControllerInfo</a>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a7891cb033fe02014b4bb01f26d318c9f">controller_info</a>.<a class="code" href="classkobuki_1_1ControllerInfo.html#a17904c2b90222d1f0b3230594edd57b7">deserialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>) ) { <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>); <span class="keywordflow">break</span>; }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#ae8e96e11dbf111aac453911cbd7ba45c">sig_controller_info</a>.emit();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">controller_info_reminder</a> = 0;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          <span class="keywordflow">default</span>: <span class="comment">// in the case of unknown or mal-formed sub-payload</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">fixPayload</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">data_buffer</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">//std::cout &lt;&lt; &quot;---&quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#a4811744d8cf462525716c9a15d5fea71">unlockDataAccess</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">event_manager</a>.<a class="code" href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a>, <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      last_signal_time.stamp();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#a780d7dacef70b02c22d1eae65be23411">sig_stream_data</a>.emit();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <a class="code" href="classkobuki_1_1Kobuki.html#a78ca3419d9dc80e954f8feaecc2c0c0c">sendBaseControlCommand</a>(); <span class="comment">// send the command packet to mainboard;</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">version_info_reminder</a><span class="comment">/*--*/</span> &gt; 0 ) <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#af88113d4e2bb59857a1194d76d813c6c">Command::GetVersionInfo</a>());</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">controller_info_reminder</a><span class="comment">/*--*/</span> &gt; 0 ) <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a36510619abf35df4c293bc06e9bfb44c">Command::GetControllerGain</a>());</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">// watchdog</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> &amp;&amp; ((ecl::TimeStamp() - last_signal_time) &gt; timeout))</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">// do not call here the event manager update, as it generates a spurious offline state</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(<span class="stringliteral">&quot;Driver worker thread shutdown!&quot;</span>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">  380</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">Kobuki::fixPayload</a>(ecl::PushAndPop&lt;unsigned char&gt; &amp; byteStream)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span> (byteStream.size() &lt; 3 ) { <span class="comment">/* minimum size of sub-payload is 3; header_id, length, data */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">sig_named</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#a1eba78f120487d8435329e8ac48e6d94">log</a>(<span class="stringliteral">&quot;error&quot;</span>, <span class="stringliteral">&quot;packet&quot;</span>, <span class="stringliteral">&quot;too small sub-payload detected.&quot;</span>));</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    byteStream.clear();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    std::stringstream ostream;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> header_id = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(byteStream.pop_front());</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(byteStream.pop_front());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> remains = byteStream.size();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> to_pop;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    ostream &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; header_id &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    ostream &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; length &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    ostream &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    ostream &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::uppercase;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    ostream &lt;&lt; std::hex &lt;&lt; std::setw(2) &lt;&lt; header_id &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; std::dec;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    ostream &lt;&lt; std::hex &lt;&lt; std::setw(2) &lt;&lt; length &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; std::dec;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (remains &lt; length) to_pop = remains;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">else</span>                  to_pop = length;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; to_pop; i++ ) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> byte = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(byteStream.pop_front());</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      ostream &lt;&lt; std::hex &lt;&lt; std::setw(2) &lt;&lt; byte &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; std::dec;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    ostream &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (remains &lt; length) <a class="code" href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">sig_named</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#a1eba78f120487d8435329e8ac48e6d94">log</a>(<span class="stringliteral">&quot;error&quot;</span>, <span class="stringliteral">&quot;packet&quot;</span>, <span class="stringliteral">&quot;malformed sub-payload detected. &quot;</span>  + ostream.str()));</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">else</span>                  <a class="code" href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">sig_named</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#a1eba78f120487d8435329e8ac48e6d94">log</a>(<span class="stringliteral">&quot;debug&quot;</span>, <span class="stringliteral">&quot;packet&quot;</span>, <span class="stringliteral">&quot;unknown sub-payload detected. &quot;</span> + ostream.str()));</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> ** Implementation [Human Friendly Accessors]</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#af72c123e33ca1882f25800c9af5fb717">  419</a></span>&#160;ecl::Angle&lt;double&gt; <a class="code" href="classkobuki_1_1Kobuki.html#af72c123e33ca1882f25800c9af5fb717">Kobuki::getHeading</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  ecl::Angle&lt;double&gt; heading;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// raw data angles are in hundredths of a degree, convert to radians.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  heading = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">inertia</a>.<a class="code" href="classkobuki_1_1Inertia.html#a2d6db1d11b3a160786a1784920fa5f99">data</a>.<a class="code" href="structkobuki_1_1Inertia_1_1Data.html#a482542389a45c932f36ce4cda902babc">angle</a>) / 100.0) * ecl::pi / 180.0;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">return</span> ecl::wrap_angle(heading - <a class="code" href="classkobuki_1_1Kobuki.html#a13d29e78f65eb0eb459659b3afbf7685">heading_offset</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a2a64a16a6c4b587627f5a304359ec641">  427</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classkobuki_1_1Kobuki.html#a2a64a16a6c4b587627f5a304359ec641">Kobuki::getAngularVelocity</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// raw data angles are in hundredths of a degree, convert to radians.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> (static_cast&lt;double&gt;(<a class="code" href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">inertia</a>.<a class="code" href="classkobuki_1_1Inertia.html#a2d6db1d11b3a160786a1784920fa5f99">data</a>.<a class="code" href="structkobuki_1_1Inertia_1_1Data.html#af44f592fb74158c5bcf5b275c67fc3b4">angle_rate</a>) / 100.0) * ecl::pi / 180.0;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> ** Implementation [Raw Data Accessors]</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a9a8e7a0dfa5c9fd447d2791217ca1bca">  437</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a9a8e7a0dfa5c9fd447d2791217ca1bca">Kobuki::resetOdometry</a>()</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a30022287cb6e09ffec607422b9166e49">reset</a>();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// Issue #274: use current imu reading as zero heading to emulate reseting gyro</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a13d29e78f65eb0eb459659b3afbf7685">heading_offset</a> = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">inertia</a>.<a class="code" href="classkobuki_1_1Inertia.html#a2d6db1d11b3a160786a1784920fa5f99">data</a>.<a class="code" href="structkobuki_1_1Inertia_1_1Data.html#a482542389a45c932f36ce4cda902babc">angle</a>) / 100.0) * ecl::pi / 180.0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a70e163fcf282a169a1c1c7cbb8564294">  445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a70e163fcf282a169a1c1c7cbb8564294">Kobuki::getWheelJointStates</a>(<span class="keywordtype">double</span> &amp;wheel_left_angle, <span class="keywordtype">double</span> &amp;wheel_left_angle_rate, <span class="keywordtype">double</span> &amp;wheel_right_angle,</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                 <span class="keywordtype">double</span> &amp;wheel_right_angle_rate)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#adbda4aac1c7fc982a3f4de3ea969118f">getWheelJointStates</a>(wheel_left_angle, wheel_left_angle_rate, wheel_right_angle, wheel_right_angle_rate);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a20913af66616fd0242e38f9ab11228c6">  462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a20913af66616fd0242e38f9ab11228c6">Kobuki::updateOdometry</a>(ecl::LegacyPose2D&lt;double&gt; &amp;pose_update, ecl::linear_algebra::Vector3d &amp;pose_update_rates)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a89aafb5b5a5c60f87fa7fa46e11b5b81">update</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">core_sensors</a>.<a class="code" href="classkobuki_1_1CoreSensors.html#a174414fa517ca33f2a1c73cd8f6d7327">data</a>.<a class="code" href="structkobuki_1_1CoreSensors_1_1Data.html#a2ef0c11257ef7a25c0691e87659e138b">time_stamp</a>, <a class="code" href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">core_sensors</a>.<a class="code" href="classkobuki_1_1CoreSensors.html#a174414fa517ca33f2a1c73cd8f6d7327">data</a>.<a class="code" href="structkobuki_1_1CoreSensors_1_1Data.html#a9a2aee9ed43bb59570ab618f81016044">left_encoder</a>, <a class="code" href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">core_sensors</a>.<a class="code" href="classkobuki_1_1CoreSensors.html#a174414fa517ca33f2a1c73cd8f6d7327">data</a>.<a class="code" href="structkobuki_1_1CoreSensors_1_1Data.html#ab5d251034bca20f28ec57bde1441ca45">right_encoder</a>,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                      pose_update, pose_update_rates);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> ** Commands</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#acfa8adb823fe03d7223d41a13d8e66cf">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#acfa8adb823fe03d7223d41a13d8e66cf">Kobuki::setLed</a>(<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="namespacekobuki.html#a33186680e911242fe0c7a511a12d1465">LedNumber</a> &amp;number, <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="namespacekobuki.html#a278fbe81cdc3dd93c2fde224fb013c26">LedColour</a> &amp;colour)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a90d62fd79acdef8204ef8df442b7c417">Command::SetLedArray</a>(number, colour, <a class="code" href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki_command</a>.<a class="code" href="classkobuki_1_1Command.html#aa9a2396aa4648c377ec0058730b0787b">data</a>));</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a188d1db38aa059f96e3bfb0879b244f8">  477</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a188d1db38aa059f96e3bfb0879b244f8">Kobuki::setDigitalOutput</a>(<span class="keyword">const</span> <a class="code" href="structkobuki_1_1DigitalOutput.html">DigitalOutput</a> &amp;digital_output) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a4376a5a8b8be1107a56aca5a36fd61d8">Command::SetDigitalOutput</a>(digital_output, <a class="code" href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki_command</a>.<a class="code" href="classkobuki_1_1Command.html#aa9a2396aa4648c377ec0058730b0787b">data</a>));</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a53a52a4a94507afe3ce30a0f6dfbefdf">  481</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a53a52a4a94507afe3ce30a0f6dfbefdf">Kobuki::setExternalPower</a>(<span class="keyword">const</span> <a class="code" href="structkobuki_1_1DigitalOutput.html">DigitalOutput</a> &amp;digital_output) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#acc66a38299deaad48570040aa54d5bdc">Command::SetExternalPower</a>(digital_output, <a class="code" href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki_command</a>.<a class="code" href="classkobuki_1_1Command.html#aa9a2396aa4648c377ec0058730b0787b">data</a>));</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">//void Kobuki::playSound(const enum Sounds &amp;number)</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">//{</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">//  sendCommand(Command::PlaySound(number, kobuki_command.data));</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">//}</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#afaf3bd9ab3e781fec84200041ed95f30">  490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#afaf3bd9ab3e781fec84200041ed95f30">Kobuki::playSoundSequence</a>(<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="namespacekobuki.html#a336129805a07def7a2c2b0be281e7ddd">SoundSequences</a> &amp;number)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a9eb46f3f36573b8168252b13434a7260">Command::PlaySoundSequence</a>(number, <a class="code" href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki_command</a>.<a class="code" href="classkobuki_1_1Command.html#aa9a2396aa4648c377ec0058730b0787b">data</a>));</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a823260e89ce7e35fe1c721e3be1ec832">  495</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classkobuki_1_1Kobuki.html#a823260e89ce7e35fe1c721e3be1ec832">Kobuki::setControllerGain</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;type, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;p_gain,</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;i_gain, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;d_gain)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#aa801cb4d68ae7205cb94876ce5bfc50c">flashed_major_version</a>() &lt; 2) &amp;&amp; (<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#acf051500b8b1dd95e2bc7405c69f7eb4">flashed_minor_version</a>() &lt; 2)) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware doesn&#39;t support this function, so you must upgrade it. &quot;</span> \</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                  <span class="stringliteral">&quot;Consult how-to on: http://kobuki.yujinrobot.com/home-en/documentation/howtos/upgrading-firmware&quot;</span>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware version is &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                + <span class="stringliteral">&quot;; latest version is &quot;</span> + <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a644e63df3bb86a8da7eb81e206f19e70">current_version</a>());</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a536a0b1af4fa171375d8227d2d0ca27e">Command::SetControllerGain</a>(type, p_gain, i_gain, d_gain));</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#acdc18337219b79cf202c3b4178ff62fa">  510</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classkobuki_1_1Kobuki.html#acdc18337219b79cf202c3b4178ff62fa">Kobuki::getControllerGain</a>()</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#aa801cb4d68ae7205cb94876ce5bfc50c">flashed_major_version</a>() &lt; 2) &amp;&amp; (<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#acf051500b8b1dd95e2bc7405c69f7eb4">flashed_minor_version</a>() &lt; 2)) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware doesn&#39;t support this function, so you must upgrade it. &quot;</span> \</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                  <span class="stringliteral">&quot;Consult how-to on: http://kobuki.yujinrobot.com/home-en/documentation/howtos/upgrading-firmware&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">sig_warn</a>.emit(<span class="stringliteral">&quot;Robot firmware version is &quot;</span> + <a class="code" href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">VersionInfo::toString</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">data</a>.<a class="code" href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">version</a>)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                + <span class="stringliteral">&quot;; latest version is &quot;</span> + <a class="code" href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">firmware</a>.<a class="code" href="classkobuki_1_1Firmware.html#a644e63df3bb86a8da7eb81e206f19e70">current_version</a>());</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#a36510619abf35df4c293bc06e9bfb44c">Command::GetControllerGain</a>());</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#af016306e3114daf0c61ffbaae0b3d1a0">  524</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#af016306e3114daf0c61ffbaae0b3d1a0">Kobuki::setBaseControl</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> &amp;linear_velocity, <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;angular_velocity)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#ac03a97b1ee8b36a7b7d02ded9f28dd8a">setVelocityCommands</a>(linear_velocity, angular_velocity);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a78ca3419d9dc80e954f8feaecc2c0c0c">  529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a78ca3419d9dc80e954f8feaecc2c0c0c">Kobuki::sendBaseControlCommand</a>()</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  std::vector&lt;double&gt; velocity_commands_received;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="classkobuki_1_1Kobuki.html#ac5a6df7edf64e09a33f9f3c680eadf1b">acceleration_limiter</a>.<a class="code" href="classkobuki_1_1AccelerationLimiter.html#aa5d776b407c07f62efe4c343426415d9">isEnabled</a>() ) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    velocity_commands_received=<a class="code" href="classkobuki_1_1Kobuki.html#ac5a6df7edf64e09a33f9f3c680eadf1b">acceleration_limiter</a>.<a class="code" href="classkobuki_1_1AccelerationLimiter.html#abc759c954227e4874ecfd49b9624474f">limit</a>(<a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a78ed09cbb3bfe1bdb8fd54c97b02d187">pointVelocity</a>());</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    velocity_commands_received=<a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a78ed09cbb3bfe1bdb8fd54c97b02d187">pointVelocity</a>();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a74a496205059a0acd9b89b69309cab74">velocityCommands</a>(velocity_commands_received);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  std::vector&lt;short&gt; velocity_commands = <a class="code" href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">diff_drive</a>.<a class="code" href="classkobuki_1_1DiffDrive.html#a74a496205059a0acd9b89b69309cab74">velocityCommands</a>();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">//std::cout &lt;&lt; &quot;speed: &quot; &lt;&lt; velocity_commands[0] &lt;&lt; &quot;, radius: &quot; &lt;&lt; velocity_commands[1] &lt;&lt; std::endl;</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html#ad5156efc2b7de9b519f822cf990e201d">Command::SetVelocityControl</a>(velocity_commands[0], velocity_commands[1]));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">//experimental; send raw control command and received command velocity</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a524dbda310ab7d97c0e86b3189cb1938">velocity_commands_debug</a>=velocity_commands;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a524dbda310ab7d97c0e86b3189cb1938">velocity_commands_debug</a>.push_back((<span class="keywordtype">short</span>)(velocity_commands_received[0]*1000.0));</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a524dbda310ab7d97c0e86b3189cb1938">velocity_commands_debug</a>.push_back((<span class="keywordtype">short</span>)(velocity_commands_received[1]*1000.0));</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a55d4149f90f900574e4639f543e09675">sig_raw_control_command</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#a524dbda310ab7d97c0e86b3189cb1938">velocity_commands_debug</a>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">  559</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">Kobuki::sendCommand</a>(<a class="code" href="classkobuki_1_1Command.html">Command</a> command)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a> || !<a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a> ) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">//need to do something</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.emit(<span class="stringliteral">&quot;Device state is not ready yet.&quot;</span>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">is_alive</a>     ) <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.emit(<span class="stringliteral">&quot; - Device is not alive.&quot;</span>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">is_connected</a> ) <a class="code" href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">sig_debug</a>.emit(<span class="stringliteral">&quot; - Device is not connected.&quot;</span>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">//std::cout &lt;&lt; is_enabled &lt;&lt; &quot;, &quot; &lt;&lt; is_alive &lt;&lt; &quot;, &quot; &lt;&lt; is_connected &lt;&lt; std::endl;</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#af40490e786d8ec95719a10172c1eef3e">command_mutex</a>.lock();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki_command</a>.<a class="code" href="classkobuki_1_1Command.html#a92e11a248177d836d59dca61b2730018">resetBuffer</a>(<a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (!command.<a class="code" href="classkobuki_1_1Command.html#a735d4fe3925e2ca28dee437b61ce8398">serialise</a>(<a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>))</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">sig_error</a>.emit(<span class="stringliteral">&quot;command serialise failed.&quot;</span>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>[2] = <a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>.size() - 3;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> checksum = 0;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 2; i &lt; <a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>.size(); i++)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    checksum ^= (<a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>[i]);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>.push_back(checksum);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">//check_device();</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">serial</a>.write((<span class="keyword">const</span> <span class="keywordtype">char</span>*)&amp;<a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>[0], <a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>.size());</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a9fa84f5f2d6bf182a5b5f38a8be0d47c">sig_raw_data_command</a>.emit(<a class="code" href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">command_buffer</a>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#af40490e786d8ec95719a10172c1eef3e">command_mutex</a>.unlock();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#afa7f47487ef0224c1ce79f2d70de233b">  589</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classkobuki_1_1Kobuki.html#afa7f47487ef0224c1ce79f2d70de233b">Kobuki::enable</a>()</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a817e0f9b75c591fac8753280f88442e6">is_enabled</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a9e4447e3b2bb177155ee681daccdc274">  595</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classkobuki_1_1Kobuki.html#a9e4447e3b2bb177155ee681daccdc274">Kobuki::disable</a>()</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#af016306e3114daf0c61ffbaae0b3d1a0">setBaseControl</a>(0.0f, 0.0f);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a78ca3419d9dc80e954f8feaecc2c0c0c">sendBaseControlCommand</a>();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="classkobuki_1_1Kobuki.html#a817e0f9b75c591fac8753280f88442e6">is_enabled</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classkobuki_1_1Kobuki.html#a74865ce787f6dfc15e55fddf0646dccd">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classkobuki_1_1Kobuki.html#a74865ce787f6dfc15e55fddf0646dccd">Kobuki::printSigSlotConnections</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;========== Void ==========&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  ecl::SigSlotsManager&lt;&gt;::printStatistics();</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;========= String =========&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  ecl::SigSlotsManager&lt;const std::string&amp;&gt;::printStatistics();</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Button Event ======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  ecl::SigSlotsManager&lt;const ButtonEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Bumper Event ======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  ecl::SigSlotsManager&lt;const BumperEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Cliff Event =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  ecl::SigSlotsManager&lt;const CliffEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Wheel Event =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  ecl::SigSlotsManager&lt;const WheelEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Power Event =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  ecl::SigSlotsManager&lt;const PowerEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Input Event =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  ecl::SigSlotsManager&lt;const InputEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== Robot Event =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  ecl::SigSlotsManager&lt;const RobotEvent&amp;&gt;::printStatistics();</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;====== VersionInfo =======&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  ecl::SigSlotsManager&lt;const VersionInfo&amp;&gt;::printStatistics();</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;===== Command Buffer =====&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  ecl::SigSlotsManager&lt;const Command::Buffer&amp;&gt;::printStatistics();</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;} <span class="comment">// namespace kobuki</span></div><div class="ttc" id="classkobuki_1_1Kobuki_html_a1eba78f120487d8435329e8ac48e6d94"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a1eba78f120487d8435329e8ac48e6d94">kobuki::Kobuki::log</a></div><div class="ttdeci">std::vector&lt; std::string &gt; log(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00244">kobuki.hpp:244</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a4752fa63c69f3fae94298a078769366e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a4752fa63c69f3fae94298a078769366e">kobuki::Kobuki::sig_raw_data_stream</a></div><div class="ttdeci">ecl::Signal&lt; PacketFinder::BufferType &amp; &gt; sig_raw_data_stream</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00262">kobuki.hpp:262</a></div></div>
<div class="ttc" id="namespacekobuki_html_a336129805a07def7a2c2b0be281e7ddd"><div class="ttname"><a href="namespacekobuki.html#a336129805a07def7a2c2b0be281e7ddd">kobuki::SoundSequences</a></div><div class="ttdeci">SoundSequences</div><div class="ttdef"><b>Definition:</b> <a href="sound_8hpp_source.html#l00030">sound.hpp:30</a></div></div>
<div class="ttc" id="classkobuki_1_1Cliff_html_ad804a517936d044162b4fd1985b5b191"><div class="ttname"><a href="classkobuki_1_1Cliff.html#ad804a517936d044162b4fd1985b5b191">kobuki::Cliff::data</a></div><div class="ttdeci">struct kobuki::Cliff::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Hardware_html_a0e30a67914debe3e5de881720273c17b"><div class="ttname"><a href="classkobuki_1_1Hardware.html#a0e30a67914debe3e5de881720273c17b">kobuki::Hardware::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="hardware_8hpp_source.html#l00052">hardware.hpp:52</a></div></div>
<div class="ttc" id="structkobuki_1_1Inertia_1_1Data_html_af44f592fb74158c5bcf5b275c67fc3b4"><div class="ttname"><a href="structkobuki_1_1Inertia_1_1Data.html#af44f592fb74158c5bcf5b275c67fc3b4">kobuki::Inertia::Data::angle_rate</a></div><div class="ttdeci">int16_t angle_rate</div><div class="ttdef"><b>Definition:</b> <a href="inertia_8hpp_source.html#l00040">inertia.hpp:40</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a7891cb033fe02014b4bb01f26d318c9f"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a7891cb033fe02014b4bb01f26d318c9f">kobuki::Kobuki::controller_info</a></div><div class="ttdeci">ControllerInfo controller_info</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00212">kobuki.hpp:212</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_ac5a6df7edf64e09a33f9f3c680eadf1b"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#ac5a6df7edf64e09a33f9f3c680eadf1b">kobuki::Kobuki::acceleration_limiter</a></div><div class="ttdeci">AccelerationLimiter acceleration_limiter</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00197">kobuki.hpp:197</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_a36345c2f2abf305954b882371ed9f9c3"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#a36345c2f2abf305954b882371ed9f9c3">kobuki::PacketFinderBase::configure</a></div><div class="ttdeci">void configure(const std::string &amp;sigslots_namespace, const BufferType &amp;putStx, const BufferType &amp;putEtx, unsigned int sizeLengthField, unsigned int sizeMaxPayload, unsigned int sizeChecksumField, bool variableSizePayload)</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8cpp_source.html#l00037">packet_finder.cpp:37</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a417ab3236c96d0ea4d9c8dfc40ba8a6e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a417ab3236c96d0ea4d9c8dfc40ba8a6e">kobuki::Kobuki::sendCommand</a></div><div class="ttdeci">void sendCommand(Command command)</div><div class="ttdoc">Send the prepared command to the serial port. </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00559">kobuki.cpp:559</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_afee2605f8166f479026d8977b2697dfa"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#afee2605f8166f479026d8977b2697dfa">kobuki::Kobuki::event_manager</a></div><div class="ttdeci">EventManager event_manager</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00239">kobuki.hpp:239</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a536a0b1af4fa171375d8227d2d0ca27e"><div class="ttname"><a href="classkobuki_1_1Command.html#a536a0b1af4fa171375d8227d2d0ca27e">kobuki::Command::SetControllerGain</a></div><div class="ttdeci">static Command SetControllerGain(const unsigned char &amp;type, const unsigned int &amp;p_gain, const unsigned int &amp;i_gain, const unsigned int &amp;d_gain)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00176">command.cpp:176</a></div></div>
<div class="ttc" id="structkobuki_1_1DigitalOutput_html"><div class="ttname"><a href="structkobuki_1_1DigitalOutput.html">kobuki::DigitalOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="digital__output_8hpp_source.html#l00029">digital_output.hpp:29</a></div></div>
<div class="ttc" id="structkobuki_1_1Hardware_1_1Data_html_ad8213b45a4780e33dfccc932f07aa0bc"><div class="ttname"><a href="structkobuki_1_1Hardware_1_1Data.html#ad8213b45a4780e33dfccc932f07aa0bc">kobuki::Hardware::Data::version</a></div><div class="ttdeci">uint32_t version</div><div class="ttdef"><b>Definition:</b> <a href="hardware_8hpp_source.html#l00039">hardware.hpp:39</a></div></div>
<div class="ttc" id="classkobuki_1_1GpInput_html_a28b4dbbd1a1df1b22cda86193dadd60e"><div class="ttname"><a href="classkobuki_1_1GpInput.html#a28b4dbbd1a1df1b22cda86193dadd60e">kobuki::GpInput::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="gp__input_8hpp_source.html#l00066">gp_input.hpp:66</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eaa12b8af31be594c67ae5b9fdead6956b"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eaa12b8af31be594c67ae5b9fdead6956b">kobuki::Header::CoreSensors</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00033">payload_headers.hpp:33</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a4811744d8cf462525716c9a15d5fea71"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a4811744d8cf462525716c9a15d5fea71">kobuki::Kobuki::unlockDataAccess</a></div><div class="ttdeci">void unlockDataAccess()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00164">kobuki.cpp:164</a></div></div>
<div class="ttc" id="structkobuki_1_1UniqueDeviceID_1_1Data_html_a4839939a73f3e7d47f52b7399f6d8047"><div class="ttname"><a href="structkobuki_1_1UniqueDeviceID_1_1Data.html#a4839939a73f3e7d47f52b7399f6d8047">kobuki::UniqueDeviceID::Data::udid1</a></div><div class="ttdeci">uint32_t udid1</div><div class="ttdef"><b>Definition:</b> <a href="unique__device__id_8hpp_source.html#l00041">unique_device_id.hpp:41</a></div></div>
<div class="ttc" id="classkobuki_1_1Battery_html_ab52bd0243682d8f2b4f6a7b9fdb143d3"><div class="ttname"><a href="classkobuki_1_1Battery.html#ab52bd0243682d8f2b4f6a7b9fdb143d3">kobuki::Battery::low</a></div><div class="ttdeci">static double low</div><div class="ttdef"><b>Definition:</b> <a href="battery_8hpp_source.html#l00065">battery.hpp:65</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a8300b9e468ea77063421953a711b3eef"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a8300b9e468ea77063421953a711b3eef">kobuki::Kobuki::fixPayload</a></div><div class="ttdeci">void fixPayload(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00380">kobuki.cpp:380</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af841f499eedcdd0d0a03f143f36d46ae"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af841f499eedcdd0d0a03f143f36d46ae">kobuki::Kobuki::current</a></div><div class="ttdeci">Current current</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00206">kobuki.hpp:206</a></div></div>
<div class="ttc" id="classkobuki_1_1AccelerationLimiter_html_aa5d776b407c07f62efe4c343426415d9"><div class="ttname"><a href="classkobuki_1_1AccelerationLimiter.html#aa5d776b407c07f62efe4c343426415d9">kobuki::AccelerationLimiter::isEnabled</a></div><div class="ttdeci">bool isEnabled() const </div><div class="ttdef"><b>Definition:</b> <a href="acceleration__limiter_8hpp_source.html#l00068">acceleration_limiter.hpp:68</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_afbe3833926add7263db592c6b0116b36"><div class="ttname"><a href="classkobuki_1_1Parameters.html#afbe3833926add7263db592c6b0116b36">kobuki::Parameters::battery_low</a></div><div class="ttdeci">double battery_low</div><div class="ttdoc">Threshold for battery level warnings [14.0V]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00059">parameters.hpp:59</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_afa6b9c7df7155fe1ca2e9154af773ca8"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#afa6b9c7df7155fe1ca2e9154af773ca8">kobuki::Kobuki::command_buffer</a></div><div class="ttdeci">Command::Buffer command_buffer</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00233">kobuki.hpp:233</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_aa9a2396aa4648c377ec0058730b0787b"><div class="ttname"><a href="classkobuki_1_1Command.html#aa9a2396aa4648c377ec0058730b0787b">kobuki::Command::data</a></div><div class="ttdeci">Data data</div><div class="ttdef"><b>Definition:</b> <a href="command_8hpp_source.html#l00126">command.hpp:126</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eaab049380666126745d8da2e4eac0e391"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eaab049380666126745d8da2e4eac0e391">kobuki::Header::ThreeAxisGyro</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00036">payload_headers.hpp:36</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a6330b66495007d2956a59a1931fde123"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a6330b66495007d2956a59a1931fde123">kobuki::Kobuki::thread</a></div><div class="ttdeci">ecl::Thread thread</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00174">kobuki.hpp:174</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a823260e89ce7e35fe1c721e3be1ec832"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a823260e89ce7e35fe1c721e3be1ec832">kobuki::Kobuki::setControllerGain</a></div><div class="ttdeci">bool setControllerGain(const unsigned char &amp;type, const unsigned int &amp;p_gain, const unsigned int &amp;i_gain, const unsigned int &amp;d_gain)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00495">kobuki.cpp:495</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a31467a3683f79790e30ba2fe5a597210"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a31467a3683f79790e30ba2fe5a597210">kobuki::Kobuki::diff_drive</a></div><div class="ttdeci">DiffDrive diff_drive</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00180">kobuki.hpp:180</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_aa39b142b5f651d5831b9107c35e86330"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#aa39b142b5f651d5831b9107c35e86330">kobuki::Kobuki::sig_info</a></div><div class="ttdeci">ecl::Signal&lt; const std::string &amp; &gt; sig_info</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00259">kobuki.hpp:259</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5ea272a26198f6b86a838b6ec1b9712897c"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea272a26198f6b86a838b6ec1b9712897c">kobuki::Header::Cliff</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00033">payload_headers.hpp:33</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_afa7f47487ef0224c1ce79f2d70de233b"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#afa7f47487ef0224c1ce79f2d70de233b">kobuki::Kobuki::enable</a></div><div class="ttdeci">bool enable()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00589">kobuki.cpp:589</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a4c767b0d60457092a6085ce0b1db7ff8"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a4c767b0d60457092a6085ce0b1db7ff8">kobuki::Kobuki::Kobuki</a></div><div class="ttdeci">Kobuki()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00051">kobuki.cpp:51</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a817e0f9b75c591fac8753280f88442e6"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a817e0f9b75c591fac8753280f88442e6">kobuki::Kobuki::is_enabled</a></div><div class="ttdeci">bool is_enabled</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00181">kobuki.hpp:181</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a76b2d89af496396759b93e4d1b08b47f"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a76b2d89af496396759b93e4d1b08b47f">kobuki::Kobuki::controller_info_reminder</a></div><div class="ttdeci">int controller_info_reminder</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00220">kobuki.hpp:220</a></div></div>
<div class="ttc" id="namespacekobuki_html_a33186680e911242fe0c7a511a12d1465"><div class="ttname"><a href="namespacekobuki.html#a33186680e911242fe0c7a511a12d1465">kobuki::LedNumber</a></div><div class="ttdeci">LedNumber</div><div class="ttdef"><b>Definition:</b> <a href="led__array_8hpp_source.html#l00033">led_array.hpp:33</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a39c45a62a2480ad7bfec13c390fa610f"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a39c45a62a2480ad7bfec13c390fa610f">kobuki::Kobuki::cliff</a></div><div class="ttdeci">Cliff cliff</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00205">kobuki.hpp:205</a></div></div>
<div class="ttc" id="classkobuki_1_1UniqueDeviceID_html_ac3fefd5a6c768a52e96b1890afa41319"><div class="ttname"><a href="classkobuki_1_1UniqueDeviceID.html#ac3fefd5a6c768a52e96b1890afa41319">kobuki::UniqueDeviceID::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="unique__device__id_8hpp_source.html#l00056">unique_device_id.hpp:56</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a231eabfedb0cbda53a4fea9582a36628"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a231eabfedb0cbda53a4fea9582a36628">kobuki::Kobuki::firmware</a></div><div class="ttdeci">Firmware firmware</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00209">kobuki.hpp:209</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a22de83f3db0db6dff0647299bbc5f90e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a22de83f3db0db6dff0647299bbc5f90e">kobuki::Kobuki::~Kobuki</a></div><div class="ttdeci">~Kobuki()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00066">kobuki.cpp:66</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a6fbdcfe7e8557c0c2d0480be3cdf7773"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a6fbdcfe7e8557c0c2d0480be3cdf7773">kobuki::Kobuki::serial</a></div><div class="ttdeci">ecl::Serial serial</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00214">kobuki.hpp:214</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_ab69e82cd5161562203da02c5b39aeb1f"><div class="ttname"><a href="classkobuki_1_1Parameters.html#ab69e82cd5161562203da02c5b39aeb1f">kobuki::Parameters::validate</a></div><div class="ttdeci">bool validate()</div><div class="ttdoc">A validator to ensure the user has supplied correct/sensible parameter values. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00074">parameters.hpp:74</a></div></div>
<div class="ttc" id="classkobuki_1_1CoreSensors_html_a174414fa517ca33f2a1c73cd8f6d7327"><div class="ttname"><a href="classkobuki_1_1CoreSensors.html#a174414fa517ca33f2a1c73cd8f6d7327">kobuki::CoreSensors::data</a></div><div class="ttdeci">struct kobuki::CoreSensors::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eae397464bbb1ed55fb4479c159e2407c7"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eae397464bbb1ed55fb4479c159e2407c7">kobuki::Header::Current</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00033">payload_headers.hpp:33</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_a644e63df3bb86a8da7eb81e206f19e70"><div class="ttname"><a href="classkobuki_1_1Firmware.html#a644e63df3bb86a8da7eb81e206f19e70">kobuki::Firmware::current_version</a></div><div class="ttdeci">std::string current_version()</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00106">firmware.hpp:106</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a55d4149f90f900574e4639f543e09675"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a55d4149f90f900574e4639f543e09675">kobuki::Kobuki::sig_raw_control_command</a></div><div class="ttdeci">ecl::Signal&lt; const std::vector&lt; short &gt; &amp; &gt; sig_raw_control_command</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00263">kobuki.hpp:263</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_a7a548c36c0c0c85a290bf63d54f8211b"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#a7a548c36c0c0c85a290bf63d54f8211b">kobuki::PacketFinderBase::BufferType</a></div><div class="ttdeci">ecl::PushAndPop&lt; unsigned char &gt; BufferType</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8hpp_source.html#l00075">packet_finder.hpp:75</a></div></div>
<div class="ttc" id="classkobuki_1_1CoreSensors_html_a040a72096617002a0d0f93b848006ebc"><div class="ttname"><a href="classkobuki_1_1CoreSensors.html#a040a72096617002a0d0f93b848006ebc">kobuki::CoreSensors::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="core__sensors_8cpp_source.html#l00046">core_sensors.cpp:46</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a2ef8e78d7168a90faffaa516522f79bf"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a2ef8e78d7168a90faffaa516522f79bf">kobuki::Kobuki::kobuki_command</a></div><div class="ttdeci">Command kobuki_command</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00232">kobuki.hpp:232</a></div></div>
<div class="ttc" id="classkobuki_1_1DockIR_html_acee0bd7f154a549d8d5a0f56aa9a6771"><div class="ttname"><a href="classkobuki_1_1DockIR.html#acee0bd7f154a549d8d5a0f56aa9a6771">kobuki::DockIR::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="dock__ir_8hpp_source.html#l00053">dock_ir.hpp:53</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af3c8487e4421094cc0eb38bfb621c414"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af3c8487e4421094cc0eb38bfb621c414">kobuki::Kobuki::sig_version_info</a></div><div class="ttdeci">ecl::Signal&lt; const VersionInfo &amp; &gt; sig_version_info</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00258">kobuki.hpp:258</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_a993217236ea68f063f5bc285414408e2"><div class="ttname"><a href="classkobuki_1_1Parameters.html#a993217236ea68f063f5bc285414408e2">kobuki::Parameters::device_port</a></div><div class="ttdeci">std::string device_port</div><div class="ttdoc">The serial device port name [/dev/kobuki]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00054">parameters.hpp:54</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a70e163fcf282a169a1c1c7cbb8564294"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a70e163fcf282a169a1c1c7cbb8564294">kobuki::Kobuki::getWheelJointStates</a></div><div class="ttdeci">void getWheelJointStates(double &amp;wheel_left_angle, double &amp;wheel_left_angle_rate, double &amp;wheel_right_angle, double &amp;wheel_right_angle_rate)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00445">kobuki.cpp:445</a></div></div>
<div class="ttc" id="classkobuki_1_1UniqueDeviceID_html_a4dccc63e08435b2cad91eed14d8ddf01"><div class="ttname"><a href="classkobuki_1_1UniqueDeviceID.html#a4dccc63e08435b2cad91eed14d8ddf01">kobuki::UniqueDeviceID::data</a></div><div class="ttdeci">struct kobuki::UniqueDeviceID::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eabae79e6202055fb6d598e6ebaaad4ab6"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eabae79e6202055fb6d598e6ebaaad4ab6">kobuki::Header::DockInfraRed</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00033">payload_headers.hpp:33</a></div></div>
<div class="ttc" id="structkobuki_1_1Cliff_1_1Data_html_addf367ef49803e8814f0e468d87b78ac"><div class="ttname"><a href="structkobuki_1_1Cliff_1_1Data.html#addf367ef49803e8814f0e468d87b78ac">kobuki::Cliff::Data::bottom</a></div><div class="ttdeci">std::vector&lt; uint16_t &gt; bottom</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8hpp_source.html#l00042">cliff.hpp:42</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a60fc90929f8649468272cbdc1ca4ad6d"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a60fc90929f8649468272cbdc1ca4ad6d">kobuki::Kobuki::sig_error</a></div><div class="ttdeci">ecl::Signal&lt; const std::string &amp; &gt; sig_error</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00259">kobuki.hpp:259</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_a6332cc2748b6f7095e1eb463a024289d"><div class="ttname"><a href="classkobuki_1_1Parameters.html#a6332cc2748b6f7095e1eb463a024289d">kobuki::Parameters::battery_dangerous</a></div><div class="ttdeci">double battery_dangerous</div><div class="ttdoc">Threshold for battery level in danger of depletion [13.2V]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00060">parameters.hpp:60</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_aeb000976a20ed8f5eaf847c258527ace"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#aeb000976a20ed8f5eaf847c258527ace">kobuki::Kobuki::shutdown_requested</a></div><div class="ttdeci">bool shutdown_requested</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00175">kobuki.hpp:175</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eafd5712665e6dddce0980268025626ad8"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eafd5712665e6dddce0980268025626ad8">kobuki::Header::ControllerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00038">payload_headers.hpp:38</a></div></div>
<div class="ttc" id="classkobuki_1_1Cliff_html_ab4feb28d6b1863d7d1cd7b68d6963724"><div class="ttname"><a href="classkobuki_1_1Cliff.html#ab4feb28d6b1863d7d1cd7b68d6963724">kobuki::Cliff::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="cliff_8hpp_source.html#l00055">cliff.hpp:55</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_a0717933338e84bc7907f7e8345e2347e"><div class="ttname"><a href="classkobuki_1_1Parameters.html#a0717933338e84bc7907f7e8345e2347e">kobuki::Parameters::sigslots_namespace</a></div><div class="ttdeci">std::string sigslots_namespace</div><div class="ttdoc">The first part of a sigslot connection namespace [&quot;/kobuki&quot;]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00055">parameters.hpp:55</a></div></div>
<div class="ttc" id="classkobuki_1_1ThreeAxisGyro_html_a65c15215e2769e7227c3f1f772a445b1"><div class="ttname"><a href="classkobuki_1_1ThreeAxisGyro.html#a65c15215e2769e7227c3f1f772a445b1">kobuki::ThreeAxisGyro::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="three__axis__gyro_8hpp_source.html#l00064">three_axis_gyro.hpp:64</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5ea1df38284e536a6b766c89847f5997cf7"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea1df38284e536a6b766c89847f5997cf7">kobuki::Header::GpInput</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00036">payload_headers.hpp:36</a></div></div>
<div class="ttc" id="classkobuki_1_1EventManager_html_a0fdebc830c98b0a3fcb644da5b5b0281"><div class="ttname"><a href="classkobuki_1_1EventManager.html#a0fdebc830c98b0a3fcb644da5b5b0281">kobuki::EventManager::update</a></div><div class="ttdeci">void update(const CoreSensors::Data &amp;new_state, const std::vector&lt; uint16_t &gt; &amp;cliff_data)</div><div class="ttdef"><b>Definition:</b> <a href="event__manager_8cpp_source.html#l00043">event_manager.cpp:43</a></div></div>
<div class="ttc" id="classkobuki_1_1Inertia_html_a2d6db1d11b3a160786a1784920fa5f99"><div class="ttname"><a href="classkobuki_1_1Inertia.html#a2d6db1d11b3a160786a1784920fa5f99">kobuki::Inertia::data</a></div><div class="ttdeci">struct kobuki::Inertia::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a2b867d6cda20d8fc21a36dbb4d6ba125"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a2b867d6cda20d8fc21a36dbb4d6ba125">kobuki::Kobuki::inertia</a></div><div class="ttdeci">Inertia inertia</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00203">kobuki.hpp:203</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_aa3bb2d628f9a64aa4ec7bcfb7d911266"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#aa3bb2d628f9a64aa4ec7bcfb7d911266">kobuki::Kobuki::sig_debug</a></div><div class="ttdeci">ecl::Signal&lt; const std::string &amp; &gt; sig_debug</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00259">kobuki.hpp:259</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a9a8e7a0dfa5c9fd447d2791217ca1bca"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a9a8e7a0dfa5c9fd447d2791217ca1bca">kobuki::Kobuki::resetOdometry</a></div><div class="ttdeci">void resetOdometry()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00437">kobuki.cpp:437</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a78ca3419d9dc80e954f8feaecc2c0c0c"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a78ca3419d9dc80e954f8feaecc2c0c0c">kobuki::Kobuki::sendBaseControlCommand</a></div><div class="ttdeci">void sendBaseControlCommand()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00529">kobuki.cpp:529</a></div></div>
<div class="ttc" id="namespacekobuki_html"><div class="ttname"><a href="namespacekobuki.html">kobuki</a></div><div class="ttdef"><b>Definition:</b> <a href="command_8hpp_source.html#l00031">command.hpp:31</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_a7a3014b781ce53ca8aabb3c3bef2abd0"><div class="ttname"><a href="classkobuki_1_1Firmware.html#a7a3014b781ce53ca8aabb3c3bef2abd0">kobuki::Firmware::check_major_version</a></div><div class="ttdeci">int check_major_version()</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00128">firmware.hpp:128</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a90d62fd79acdef8204ef8df442b7c417"><div class="ttname"><a href="classkobuki_1_1Command.html#a90d62fd79acdef8204ef8df442b7c417">kobuki::Command::SetLedArray</a></div><div class="ttdeci">static Command SetLedArray(const enum LedNumber &amp;number, const enum LedColour &amp;colour, Command::Data &amp;current_data)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00053">command.cpp:53</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinder_html_ad0d99bb21004deb5d2be16c49ca82f1e"><div class="ttname"><a href="classkobuki_1_1PacketFinder.html#ad0d99bb21004deb5d2be16c49ca82f1e">kobuki::PacketFinder::checkSum</a></div><div class="ttdeci">bool checkSum()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00036">kobuki.cpp:36</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_a3b59b2c70d61bf2180337eddfb0ae08c"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#a3b59b2c70d61bf2180337eddfb0ae08c">kobuki::PacketFinderBase::getBuffer</a></div><div class="ttdeci">void getBuffer(BufferType &amp;bufferRef)</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8cpp_source.html#l00110">packet_finder.cpp:110</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eafb0bab4f1e5410d21e2727e9cb608f14"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eafb0bab4f1e5410d21e2727e9cb608f14">kobuki::Header::Hardware</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00036">payload_headers.hpp:36</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5ea0164aceaf6a319f0666efbd463ada016"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea0164aceaf6a319f0666efbd463ada016">kobuki::Header::Firmware</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00036">payload_headers.hpp:36</a></div></div>
<div class="ttc" id="namespacekobuki_html_a278fbe81cdc3dd93c2fde224fb013c26"><div class="ttname"><a href="namespacekobuki.html#a278fbe81cdc3dd93c2fde224fb013c26">kobuki::LedColour</a></div><div class="ttdeci">LedColour</div><div class="ttdef"><b>Definition:</b> <a href="led__array_8hpp_source.html#l00038">led_array.hpp:38</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_acfa8adb823fe03d7223d41a13d8e66cf"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#acfa8adb823fe03d7223d41a13d8e66cf">kobuki::Kobuki::setLed</a></div><div class="ttdeci">void setLed(const enum LedNumber &amp;number, const enum LedColour &amp;colour)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00472">kobuki.cpp:472</a></div></div>
<div class="ttc" id="classkobuki_1_1Inertia_html_a44d0ed2f43fd3598521fdb0104da3e5a"><div class="ttname"><a href="classkobuki_1_1Inertia.html#a44d0ed2f43fd3598521fdb0104da3e5a">kobuki::Inertia::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="inertia_8hpp_source.html#l00058">inertia.hpp:58</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_a1b7c68777973d97d33b0ddc79188f617"><div class="ttname"><a href="classkobuki_1_1Firmware.html#a1b7c68777973d97d33b0ddc79188f617">kobuki::Firmware::check_minor_version</a></div><div class="ttdeci">int check_minor_version()</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00136">firmware.hpp:136</a></div></div>
<div class="ttc" id="classkobuki_1_1VersionInfo_html_a223c4a16131bac02fccb92e10e38fdc1"><div class="ttname"><a href="classkobuki_1_1VersionInfo.html#a223c4a16131bac02fccb92e10e38fdc1">kobuki::VersionInfo::toString</a></div><div class="ttdeci">static std::string toString(const uint32_t &amp;version)</div><div class="ttdef"><b>Definition:</b> <a href="version__info_8hpp_source.html#l00054">version_info.hpp:54</a></div></div>
<div class="ttc" id="classkobuki_1_1Current_html_a0650572b8e343637d000a8c3682bed5d"><div class="ttname"><a href="classkobuki_1_1Current.html#a0650572b8e343637d000a8c3682bed5d">kobuki::Current::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="current_8hpp_source.html#l00057">current.hpp:57</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_acddbc6dc21324a02d2118322c5eb7167"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#acddbc6dc21324a02d2118322c5eb7167">kobuki::Kobuki::unique_device_id</a></div><div class="ttdeci">UniqueDeviceID unique_device_id</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00210">kobuki.hpp:210</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_afd0dfe63b1cff495fabd7fbc61073b41"><div class="ttname"><a href="classkobuki_1_1Firmware.html#afd0dfe63b1cff495fabd7fbc61073b41">kobuki::Firmware::data</a></div><div class="ttdeci">struct kobuki::Firmware::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a53a52a4a94507afe3ce30a0f6dfbefdf"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a53a52a4a94507afe3ce30a0f6dfbefdf">kobuki::Kobuki::setExternalPower</a></div><div class="ttdeci">void setExternalPower(const DigitalOutput &amp;digital_output)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00481">kobuki.cpp:481</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_aaa6673951c65a21948e94e6efbe41ff1"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#aaa6673951c65a21948e94e6efbe41ff1">kobuki::PacketFinderBase::buffer</a></div><div class="ttdeci">BufferType buffer</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8hpp_source.html#l00098">packet_finder.hpp:98</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af72c123e33ca1882f25800c9af5fb717"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af72c123e33ca1882f25800c9af5fb717">kobuki::Kobuki::getHeading</a></div><div class="ttdeci">ecl::Angle&lt; double &gt; getHeading() const </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00419">kobuki.cpp:419</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_aa801cb4d68ae7205cb94876ce5bfc50c"><div class="ttname"><a href="classkobuki_1_1Firmware.html#aa801cb4d68ae7205cb94876ce5bfc50c">kobuki::Firmware::flashed_major_version</a></div><div class="ttdeci">int flashed_major_version()</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00125">firmware.hpp:125</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a9fa84f5f2d6bf182a5b5f38a8be0d47c"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a9fa84f5f2d6bf182a5b5f38a8be0d47c">kobuki::Kobuki::sig_raw_data_command</a></div><div class="ttdeci">ecl::Signal&lt; Command::Buffer &amp; &gt; sig_raw_data_command</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00261">kobuki.hpp:261</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_afaf3bd9ab3e781fec84200041ed95f30"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#afaf3bd9ab3e781fec84200041ed95f30">kobuki::Kobuki::playSoundSequence</a></div><div class="ttdeci">void playSoundSequence(const enum SoundSequences &amp;number)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00490">kobuki.cpp:490</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html"><div class="ttname"><a href="classkobuki_1_1Parameters.html">kobuki::Parameters</a></div><div class="ttdoc">Parameter list and validator for the kobuki. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00036">parameters.hpp:36</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a0648c958434e641d4573721541099ee4"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a0648c958434e641d4573721541099ee4">kobuki::Kobuki::init</a></div><div class="ttdeci">void init(Parameters &amp;parameters)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00074">kobuki.cpp:74</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_acdc18337219b79cf202c3b4178ff62fa"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#acdc18337219b79cf202c3b4178ff62fa">kobuki::Kobuki::getControllerGain</a></div><div class="ttdeci">bool getControllerGain()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00510">kobuki.cpp:510</a></div></div>
<div class="ttc" id="structkobuki_1_1Inertia_1_1Data_html_a482542389a45c932f36ce4cda902babc"><div class="ttname"><a href="structkobuki_1_1Inertia_1_1Data.html#a482542389a45c932f36ce4cda902babc">kobuki::Inertia::Data::angle</a></div><div class="ttdeci">int16_t angle</div><div class="ttdef"><b>Definition:</b> <a href="inertia_8hpp_source.html#l00039">inertia.hpp:39</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a13d29e78f65eb0eb459659b3afbf7685"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a13d29e78f65eb0eb459659b3afbf7685">kobuki::Kobuki::heading_offset</a></div><div class="ttdeci">double heading_offset</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00186">kobuki.hpp:186</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a2a64a16a6c4b587627f5a304359ec641"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a2a64a16a6c4b587627f5a304359ec641">kobuki::Kobuki::getAngularVelocity</a></div><div class="ttdeci">double getAngularVelocity() const </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00427">kobuki.cpp:427</a></div></div>
<div class="ttc" id="classkobuki_1_1AccelerationLimiter_html_abc759c954227e4874ecfd49b9624474f"><div class="ttname"><a href="classkobuki_1_1AccelerationLimiter.html#abc759c954227e4874ecfd49b9624474f">kobuki::AccelerationLimiter::limit</a></div><div class="ttdeci">std::vector&lt; double &gt; limit(const std::vector&lt; double &gt; &amp;command)</div><div class="ttdoc">Limits the input velocity commands if gatekeeper is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="acceleration__limiter_8hpp_source.html#l00077">acceleration_limiter.hpp:77</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a188d1db38aa059f96e3bfb0879b244f8"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a188d1db38aa059f96e3bfb0879b244f8">kobuki::Kobuki::setDigitalOutput</a></div><div class="ttdeci">void setDigitalOutput(const DigitalOutput &amp;digital_output)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00477">kobuki.cpp:477</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_adbda4aac1c7fc982a3f4de3ea969118f"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#adbda4aac1c7fc982a3f4de3ea969118f">kobuki::DiffDrive::getWheelJointStates</a></div><div class="ttdeci">void getWheelJointStates(double &amp;wheel_left_angle, double &amp;wheel_left_angle_rate, double &amp;wheel_right_angle, double &amp;wheel_right_angle_rate)</div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00114">diff_drive.cpp:114</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a4376a5a8b8be1107a56aca5a36fd61d8"><div class="ttname"><a href="classkobuki_1_1Command.html#a4376a5a8b8be1107a56aca5a36fd61d8">kobuki::Command::SetDigitalOutput</a></div><div class="ttdeci">static Command SetDigitalOutput(const DigitalOutput &amp;digital_output, Command::Data &amp;current_data)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00084">command.cpp:84</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_ab07dc6fa02d48f837ea3755f3ac7b03c"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#ab07dc6fa02d48f837ea3755f3ac7b03c">kobuki::Kobuki::version_info_reminder</a></div><div class="ttdeci">int version_info_reminder</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00219">kobuki.hpp:219</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_a74a496205059a0acd9b89b69309cab74"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#a74a496205059a0acd9b89b69309cab74">kobuki::DiffDrive::velocityCommands</a></div><div class="ttdeci">void velocityCommands(const double &amp;vx, const double &amp;wz)</div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00133">diff_drive.cpp:133</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_acf051500b8b1dd95e2bc7405c69f7eb4"><div class="ttname"><a href="classkobuki_1_1Firmware.html#acf051500b8b1dd95e2bc7405c69f7eb4">kobuki::Firmware::flashed_minor_version</a></div><div class="ttdeci">int flashed_minor_version()</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00126">firmware.hpp:126</a></div></div>
<div class="ttc" id="structkobuki_1_1CoreSensors_1_1Data_html_a2ef0c11257ef7a25c0691e87659e138b"><div class="ttname"><a href="structkobuki_1_1CoreSensors_1_1Data.html#a2ef0c11257ef7a25c0691e87659e138b">kobuki::CoreSensors::Data::time_stamp</a></div><div class="ttdeci">uint16_t time_stamp</div><div class="ttdef"><b>Definition:</b> <a href="core__sensors_8hpp_source.html#l00041">core_sensors.hpp:41</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a753915dbef81df0f85bd51dc20128255"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a753915dbef81df0f85bd51dc20128255">kobuki::Kobuki::dock_ir</a></div><div class="ttdeci">DockIR dock_ir</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00204">kobuki.hpp:204</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_ad5156efc2b7de9b519f822cf990e201d"><div class="ttname"><a href="classkobuki_1_1Command.html#ad5156efc2b7de9b519f822cf990e201d">kobuki::Command::SetVelocityControl</a></div><div class="ttdeci">static Command SetVelocityControl(DiffDrive &amp;diff_drive)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00157">command.cpp:157</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_abb5b7aa70e7b2207f8e8a4412d7487f3"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#abb5b7aa70e7b2207f8e8a4412d7487f3">kobuki::Kobuki::data_mutex</a></div><div class="ttdeci">ecl::Mutex data_mutex</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00231">kobuki.hpp:231</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a02ada66911213cd57bb2f5ac21937562"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a02ada66911213cd57bb2f5ac21937562">kobuki::Kobuki::parameters</a></div><div class="ttdeci">Parameters parameters</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00191">kobuki.hpp:191</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a20913af66616fd0242e38f9ab11228c6"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a20913af66616fd0242e38f9ab11228c6">kobuki::Kobuki::updateOdometry</a></div><div class="ttdeci">void updateOdometry(ecl::LegacyPose2D&lt; double &gt; &amp;pose_update, ecl::linear_algebra::Vector3d &amp;pose_update_rates)</div><div class="ttdoc">Use the current sensor data (encoders and gyro) to calculate an update for the odometry. </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00462">kobuki.cpp:462</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a416e41478d6941078d11f69f6a7a1207"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a416e41478d6941078d11f69f6a7a1207">kobuki::Kobuki::three_axis_gyro</a></div><div class="ttdeci">ThreeAxisGyro three_axis_gyro</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00211">kobuki.hpp:211</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_ab3b7838b614cca5f785e52c8ea160b8c"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#ab3b7838b614cca5f785e52c8ea160b8c">kobuki::Kobuki::hardware</a></div><div class="ttdeci">Hardware hardware</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00208">kobuki.hpp:208</a></div></div>
<div class="ttc" id="structkobuki_1_1UniqueDeviceID_1_1Data_html_a288e270b6772a5eba47f967c2216e995"><div class="ttname"><a href="structkobuki_1_1UniqueDeviceID_1_1Data.html#a288e270b6772a5eba47f967c2216e995">kobuki::UniqueDeviceID::Data::udid0</a></div><div class="ttdeci">uint32_t udid0</div><div class="ttdef"><b>Definition:</b> <a href="unique__device__id_8hpp_source.html#l00040">unique_device_id.hpp:40</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html"><div class="ttname"><a href="classkobuki_1_1Command.html">kobuki::Command</a></div><div class="ttdef"><b>Definition:</b> <a href="command_8hpp_source.html#l00034">command.hpp:34</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af016306e3114daf0c61ffbaae0b3d1a0"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af016306e3114daf0c61ffbaae0b3d1a0">kobuki::Kobuki::setBaseControl</a></div><div class="ttdeci">void setBaseControl(const double &amp;linear_velocity, const double &amp;angular_velocity)</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00524">kobuki.cpp:524</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a76b781f33f5e4a7fcfffcfe05bf744ab"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a76b781f33f5e4a7fcfffcfe05bf744ab">kobuki::Kobuki::core_sensors</a></div><div class="ttdeci">CoreSensors core_sensors</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00202">kobuki.hpp:202</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af40490e786d8ec95719a10172c1eef3e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af40490e786d8ec95719a10172c1eef3e">kobuki::Kobuki::command_mutex</a></div><div class="ttdeci">ecl::Mutex command_mutex</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00227">kobuki.hpp:227</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a9e4447e3b2bb177155ee681daccdc274"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a9e4447e3b2bb177155ee681daccdc274">kobuki::Kobuki::disable</a></div><div class="ttdeci">bool disable()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00595">kobuki.cpp:595</a></div></div>
<div class="ttc" id="classkobuki_1_1VersionInfo_html"><div class="ttname"><a href="classkobuki_1_1VersionInfo.html">kobuki::VersionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="version__info_8hpp_source.html#l00037">version_info.hpp:37</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5eae36a9397bdd2b3506cd80e4bf03f4d03"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5eae36a9397bdd2b3506cd80e4bf03f4d03">kobuki::Header::Inertia</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00033">payload_headers.hpp:33</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_a78ed09cbb3bfe1bdb8fd54c97b02d187"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#a78ed09cbb3bfe1bdb8fd54c97b02d187">kobuki::DiffDrive::pointVelocity</a></div><div class="ttdeci">std::vector&lt; double &gt; pointVelocity() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00183">diff_drive.cpp:183</a></div></div>
<div class="ttc" id="classkobuki_1_1Firmware_html_af41cef6ff3dc0ed1e7b256681544e1a2"><div class="ttname"><a href="classkobuki_1_1Firmware.html#af41cef6ff3dc0ed1e7b256681544e1a2">kobuki::Firmware::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00060">firmware.hpp:60</a></div></div>
<div class="ttc" id="structkobuki_1_1CoreSensors_1_1Data_html_a9a2aee9ed43bb59570ab618f81016044"><div class="ttname"><a href="structkobuki_1_1CoreSensors_1_1Data.html#a9a2aee9ed43bb59570ab618f81016044">kobuki::CoreSensors::Data::left_encoder</a></div><div class="ttdeci">uint16_t left_encoder</div><div class="ttdef"><b>Definition:</b> <a href="core__sensors_8hpp_source.html#l00045">core_sensors.hpp:45</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a92e11a248177d836d59dca61b2730018"><div class="ttname"><a href="classkobuki_1_1Command.html#a92e11a248177d836d59dca61b2730018">kobuki::Command::resetBuffer</a></div><div class="ttdeci">void resetBuffer(Buffer &amp;buffer)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00202">command.cpp:202</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_ac81c6f8d3f569447a6d0bc992060f37d"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#ac81c6f8d3f569447a6d0bc992060f37d">kobuki::PacketFinderBase::numberOfDataToRead</a></div><div class="ttdeci">unsigned int numberOfDataToRead()</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8cpp_source.html#l00078">packet_finder.cpp:78</a></div></div>
<div class="ttc" id="structkobuki_1_1CoreSensors_1_1Data_html_ab5d251034bca20f28ec57bde1441ca45"><div class="ttname"><a href="structkobuki_1_1CoreSensors_1_1Data.html#ab5d251034bca20f28ec57bde1441ca45">kobuki::CoreSensors::Data::right_encoder</a></div><div class="ttdeci">uint16_t right_encoder</div><div class="ttdef"><b>Definition:</b> <a href="core__sensors_8hpp_source.html#l00046">core_sensors.hpp:46</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_aa919d8b508b8fa9ac2b380e91d91fbe7"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#aa919d8b508b8fa9ac2b380e91d91fbe7">kobuki::Kobuki::gp_input</a></div><div class="ttdeci">GpInput gp_input</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00207">kobuki.hpp:207</a></div></div>
<div class="ttc" id="classkobuki_1_1ControllerInfo_html_a17904c2b90222d1f0b3230594edd57b7"><div class="ttname"><a href="classkobuki_1_1ControllerInfo.html#a17904c2b90222d1f0b3230594edd57b7">kobuki::ControllerInfo::deserialise</a></div><div class="ttdeci">bool deserialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="controller__info_8hpp_source.html#l00057">controller_info.hpp:57</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_ae8e96e11dbf111aac453911cbd7ba45c"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#ae8e96e11dbf111aac453911cbd7ba45c">kobuki::Kobuki::sig_controller_info</a></div><div class="ttdeci">ecl::Signal sig_controller_info</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00257">kobuki.hpp:257</a></div></div>
<div class="ttc" id="structkobuki_1_1UniqueDeviceID_1_1Data_html_ad8c475aafccda342e444fb6797a53de4"><div class="ttname"><a href="structkobuki_1_1UniqueDeviceID_1_1Data.html#ad8c475aafccda342e444fb6797a53de4">kobuki::UniqueDeviceID::Data::udid2</a></div><div class="ttdeci">uint32_t udid2</div><div class="ttdef"><b>Definition:</b> <a href="unique__device__id_8hpp_source.html#l00042">unique_device_id.hpp:42</a></div></div>
<div class="ttc" id="classkobuki_1_1Battery_html_a0a8d941a6dec249504f5e3e03653fda2"><div class="ttname"><a href="classkobuki_1_1Battery.html#a0a8d941a6dec249504f5e3e03653fda2">kobuki::Battery::capacity</a></div><div class="ttdeci">static double capacity</div><div class="ttdef"><b>Definition:</b> <a href="battery_8hpp_source.html#l00064">battery.hpp:64</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_a30022287cb6e09ffec607422b9166e49"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#a30022287cb6e09ffec607422b9166e49">kobuki::DiffDrive::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00105">diff_drive.cpp:105</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a8365fa1b3e2dbe361fd51e855ac63681"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a8365fa1b3e2dbe361fd51e855ac63681">kobuki::Kobuki::sig_warn</a></div><div class="ttdeci">ecl::Signal&lt; const std::string &amp; &gt; sig_warn</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00259">kobuki.hpp:259</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_a89aafb5b5a5c60f87fa7fa46e11b5b81"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#a89aafb5b5a5c60f87fa7fa46e11b5b81">kobuki::DiffDrive::update</a></div><div class="ttdeci">void update(const uint16_t &amp;time_stamp, const uint16_t &amp;left_encoder, const uint16_t &amp;right_encoder, ecl::LegacyPose2D&lt; double &gt; &amp;pose_update, ecl::linear_algebra::Vector3d &amp;pose_update_rates)</div><div class="ttdoc">Updates the odometry from firmware stamps and encoders. </div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00052">diff_drive.cpp:52</a></div></div>
<div class="ttc" id="structkobuki_1_1Firmware_1_1Data_html_aa1755f72354675dcd3dcda77eb6d055c"><div class="ttname"><a href="structkobuki_1_1Firmware_1_1Data.html#aa1755f72354675dcd3dcda77eb6d055c">kobuki::Firmware::Data::version</a></div><div class="ttdeci">uint32_t version</div><div class="ttdef"><b>Definition:</b> <a href="firmware_8hpp_source.html#l00047">firmware.hpp:47</a></div></div>
<div class="ttc" id="classkobuki_1_1Battery_html_afed5fa95de7082b1d36e01bc7f551f56"><div class="ttname"><a href="classkobuki_1_1Battery.html#afed5fa95de7082b1d36e01bc7f551f56">kobuki::Battery::dangerous</a></div><div class="ttdeci">static double dangerous</div><div class="ttdef"><b>Definition:</b> <a href="battery_8hpp_source.html#l00066">battery.hpp:66</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_acba33ca9f76f440202fd20b3579c9c9e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#acba33ca9f76f440202fd20b3579c9c9e">kobuki::Kobuki::is_alive</a></div><div class="ttdeci">bool is_alive</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00217">kobuki.hpp:217</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_a3b7d8eb69f43f02a8cdbb9a908740bba"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#a3b7d8eb69f43f02a8cdbb9a908740bba">kobuki::PacketFinderBase::getPayload</a></div><div class="ttdeci">void getPayload(BufferType &amp;bufferRef)</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8cpp_source.html#l00115">packet_finder.cpp:115</a></div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_a0c7b04175141d702f520c4a963876143"><div class="ttname"><a href="classkobuki_1_1Parameters.html#a0c7b04175141d702f520c4a963876143">kobuki::Parameters::battery_capacity</a></div><div class="ttdeci">double battery_capacity</div><div class="ttdoc">Capacity voltage of the battery [16.5V]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00058">parameters.hpp:58</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a74865ce787f6dfc15e55fddf0646dccd"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a74865ce787f6dfc15e55fddf0646dccd">kobuki::Kobuki::printSigSlotConnections</a></div><div class="ttdeci">void printSigSlotConnections() const </div><div class="ttdoc">Print a list of all relevant sigslot connections. </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00611">kobuki.cpp:611</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_af88113d4e2bb59857a1194d76d813c6c"><div class="ttname"><a href="classkobuki_1_1Command.html#af88113d4e2bb59857a1194d76d813c6c">kobuki::Command::GetVersionInfo</a></div><div class="ttdeci">static Command GetVersionInfo()</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00146">command.cpp:146</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a735d4fe3925e2ca28dee437b61ce8398"><div class="ttname"><a href="classkobuki_1_1Command.html#a735d4fe3925e2ca28dee437b61ce8398">kobuki::Command::serialise</a></div><div class="ttdeci">bool serialise(ecl::PushAndPop&lt; unsigned char &gt; &amp;byteStream)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00210">command.cpp:210</a></div></div>
<div class="ttc" id="structkobuki_1_1GpInput_1_1Data_html_a4d91ec153b1310b7ef99af7f61850906"><div class="ttname"><a href="structkobuki_1_1GpInput_1_1Data.html#a4d91ec153b1310b7ef99af7f61850906">kobuki::GpInput::Data::digital_input</a></div><div class="ttdeci">uint16_t digital_input</div><div class="ttdef"><b>Definition:</b> <a href="gp__input_8hpp_source.html#l00041">gp_input.hpp:41</a></div></div>
<div class="ttc" id="classkobuki_1_1PacketFinderBase_html_ae80fbedeba41baf3dd2f3db93c812b44"><div class="ttname"><a href="classkobuki_1_1PacketFinderBase.html#ae80fbedeba41baf3dd2f3db93c812b44">kobuki::PacketFinderBase::update</a></div><div class="ttdeci">virtual bool update(const unsigned char *incoming, unsigned int numberOfIncoming)</div><div class="ttdef"><b>Definition:</b> <a href="packet__finder_8cpp_source.html#l00131">packet_finder.cpp:131</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_ae2dbf1a75dff7a56936b9c3732bee94e"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#ae2dbf1a75dff7a56936b9c3732bee94e">kobuki::Kobuki::sig_named</a></div><div class="ttdeci">ecl::Signal&lt; const std::vector&lt; std::string &gt; &amp; &gt; sig_named</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00260">kobuki.hpp:260</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_aa438e90f351c31b1ae6f9cdaddce6058"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#aa438e90f351c31b1ae6f9cdaddce6058">kobuki::Kobuki::packet_finder</a></div><div class="ttdeci">PacketFinder packet_finder</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00215">kobuki.hpp:215</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a9eb46f3f36573b8168252b13434a7260"><div class="ttname"><a href="classkobuki_1_1Command.html#a9eb46f3f36573b8168252b13434a7260">kobuki::Command::PlaySoundSequence</a></div><div class="ttdeci">static Command PlaySoundSequence(const enum SoundSequences &amp;number, Command::Data &amp;current_data)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00135">command.cpp:135</a></div></div>
<div class="ttc" id="classkobuki_1_1EventManager_html_a1a5a6b8d26cd35c2904ff4ec1584359a"><div class="ttname"><a href="classkobuki_1_1EventManager.html#a1a5a6b8d26cd35c2904ff4ec1584359a">kobuki::EventManager::init</a></div><div class="ttdeci">void init(const std::string &amp;sigslots_namespace)</div><div class="ttdef"><b>Definition:</b> <a href="event__manager_8cpp_source.html#l00028">event_manager.cpp:28</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_a36510619abf35df4c293bc06e9bfb44c"><div class="ttname"><a href="classkobuki_1_1Command.html#a36510619abf35df4c293bc06e9bfb44c">kobuki::Command::GetControllerGain</a></div><div class="ttdeci">static Command GetControllerGain()</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00188">command.cpp:188</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a0f521d6b02b875ca38c7a217d9856fd7"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a0f521d6b02b875ca38c7a217d9856fd7">kobuki::Kobuki::is_connected</a></div><div class="ttdeci">bool is_connected</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00192">kobuki.hpp:192</a></div></div>
<div class="ttc" id="classkobuki_1_1Hardware_html_a08f54bcf8166af54f50edc60e9f0e7e7"><div class="ttname"><a href="classkobuki_1_1Hardware.html#a08f54bcf8166af54f50edc60e9f0e7e7">kobuki::Hardware::data</a></div><div class="ttdeci">struct kobuki::Hardware::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a6a4ff5d9a33ec16d705c9a8911d50649"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a6a4ff5d9a33ec16d705c9a8911d50649">kobuki::Kobuki::spin</a></div><div class="ttdeci">void spin()</div><div class="ttdoc">Performs a scan looking for incoming data packets. </div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00177">kobuki.cpp:177</a></div></div>
<div class="ttc" id="classkobuki_1_1GpInput_html_a2d71bd6d91b21763677f4f37e37cfc85"><div class="ttname"><a href="classkobuki_1_1GpInput.html#a2d71bd6d91b21763677f4f37e37cfc85">kobuki::GpInput::data</a></div><div class="ttdeci">struct kobuki::GpInput::Data data</div></div>
<div class="ttc" id="classkobuki_1_1Parameters_html_ab6eaa092677b34a152c9a11dfd3ff56f"><div class="ttname"><a href="classkobuki_1_1Parameters.html#ab6eaa092677b34a152c9a11dfd3ff56f">kobuki::Parameters::enable_acceleration_limiter</a></div><div class="ttdeci">bool enable_acceleration_limiter</div><div class="ttdoc">Enable or disable the acceleration limiter [true]. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8hpp_source.html#l00057">parameters.hpp:57</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_af4b1e5a79539f8b88a3873d23dc542f6"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#af4b1e5a79539f8b88a3873d23dc542f6">kobuki::Kobuki::lockDataAccess</a></div><div class="ttdeci">void lockDataAccess()</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8cpp_source.html#l00156">kobuki.cpp:156</a></div></div>
<div class="ttc" id="classkobuki_1_1AccelerationLimiter_html_a0da69f213f2e3911ef235376bc3ab9a1"><div class="ttname"><a href="classkobuki_1_1AccelerationLimiter.html#a0da69f213f2e3911ef235376bc3ab9a1">kobuki::AccelerationLimiter::init</a></div><div class="ttdeci">void init(bool enable_acceleration_limiter, double linear_acceleration_max_=0.5, double angular_acceleration_max_=3.5, double linear_deceleration_max_=-0.5 *1.2, double angular_deceleration_max_=-3.5 *1.2)</div><div class="ttdef"><b>Definition:</b> <a href="acceleration__limiter_8hpp_source.html#l00057">acceleration_limiter.hpp:57</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a524dbda310ab7d97c0e86b3189cb1938"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a524dbda310ab7d97c0e86b3189cb1938">kobuki::Kobuki::velocity_commands_debug</a></div><div class="ttdeci">std::vector&lt; short &gt; velocity_commands_debug</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00234">kobuki.hpp:234</a></div></div>
<div class="ttc" id="classkobuki_1_1Command_html_acc66a38299deaad48570040aa54d5bdc"><div class="ttname"><a href="classkobuki_1_1Command.html#acc66a38299deaad48570040aa54d5bdc">kobuki::Command::SetExternalPower</a></div><div class="ttdeci">static Command SetExternalPower(const DigitalOutput &amp;digital_output, Command::Data &amp;current_data)</div><div class="ttdef"><b>Definition:</b> <a href="command_8cpp_source.html#l00115">command.cpp:115</a></div></div>
<div class="ttc" id="classkobuki_1_1Header_html_a55431e92a8bbabeab7f9b7fda27eea5ea1f2b4cda9fba93a0d733eed65a2f0c0e"><div class="ttname"><a href="classkobuki_1_1Header.html#a55431e92a8bbabeab7f9b7fda27eea5ea1f2b4cda9fba93a0d733eed65a2f0c0e">kobuki::Header::UniqueDeviceID</a></div><div class="ttdef"><b>Definition:</b> <a href="payload__headers_8hpp_source.html#l00038">payload_headers.hpp:38</a></div></div>
<div class="ttc" id="classkobuki_1_1DiffDrive_html_ac03a97b1ee8b36a7b7d02ded9f28dd8a"><div class="ttname"><a href="classkobuki_1_1DiffDrive.html#ac03a97b1ee8b36a7b7d02ded9f28dd8a">kobuki::DiffDrive::setVelocityCommands</a></div><div class="ttdeci">void setVelocityCommands(const double &amp;vx, const double &amp;wz)</div><div class="ttdef"><b>Definition:</b> <a href="diff__drive_8cpp_source.html#l00124">diff_drive.cpp:124</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a780d7dacef70b02c22d1eae65be23411"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a780d7dacef70b02c22d1eae65be23411">kobuki::Kobuki::sig_stream_data</a></div><div class="ttdeci">ecl::Signal sig_stream_data</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00257">kobuki.hpp:257</a></div></div>
<div class="ttc" id="classkobuki_1_1Kobuki_html_a65d6583aa72e37ee6622ad00e669234d"><div class="ttname"><a href="classkobuki_1_1Kobuki.html#a65d6583aa72e37ee6622ad00e669234d">kobuki::Kobuki::data_buffer</a></div><div class="ttdeci">PacketFinder::BufferType data_buffer</div><div class="ttdef"><b>Definition:</b> <a href="kobuki_8hpp_source.html#l00216">kobuki.hpp:216</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/kobuki_driver">kobuki_driver</a><br />
Author(s): Daniel Stonier <stonier@yujinrobot.com>, Younghun Ju <yhju@yujinrobot.com>, Jorge Santos Simon <jorge@yujinrobot.com></br />
<small>autogenerated on Mon Mar 27 2017 01:02:59</small>
</div>
</body>
</html>
