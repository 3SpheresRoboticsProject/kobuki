<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>kobuki_driver: Simple Control Loop Example</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Simple Control Loop Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="enSimpleExampleOverview"></a>
Overview</h1>
<p>This example will show you how to process kobuki's pose data and send wheel commands to robot.</p>
<h1><a class="anchor" id="Full"></a>
Source Code</h1>
<p>Here is full source code of simple control loop example. You can find it from <a class="el" href="simple__loop_8cpp.html" title="Example/test program with simple loop. ">src/test/simple_loop.cpp</a></p>
<div class="fragment"><div class="line"><span class="comment">/*****************************************************************************</span></div><div class="line"><span class="comment"> * Includes</span></div><div class="line"><span class="comment">                                                                            */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;csignal&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/time.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/sigslots.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/geometry/legacy_pose2d.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/linear_algebra.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="kobuki_8hpp.html">kobuki_driver/kobuki.hpp</a>&quot;</span></div><div class="line"></div><div class="line"><span class="comment">/*****************************************************************************</span></div><div class="line"><span class="comment"> * Classes</span></div><div class="line"><span class="comment">                                                                            */</span></div><div class="line"></div><div class="line"><span class="keyword">class </span><a class="code" href="classKobukiManager.html">KobukiManager</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <a class="code" href="classKobukiManager.html#af719c61bfe21c8c3e35320edba20f7aa">KobukiManager</a>() :</div><div class="line">    <a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a>(0.0), <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a>(0.0),</div><div class="line">    <a class="code" href="classKobukiManager.html#a932be6e61aa406bc1a33c12281bc4499">slot_stream_data</a>(&amp;<a class="code" href="classKobukiManager.html">KobukiManager</a>::<a class="code" href="classKobukiManager.html#a8b7d112844422e6d0e1bb67acacfc6e5">processStreamData</a>, *this)</div><div class="line">  {</div><div class="line">    <a class="code" href="classkobuki_1_1Parameters.html">kobuki::Parameters</a> parameters;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#a0717933338e84bc7907f7e8345e2347e">sigslots_namespace</a> = <span class="stringliteral">&quot;/kobuki&quot;</span>;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#a993217236ea68f063f5bc285414408e2">device_port</a> = <span class="stringliteral">&quot;/dev/kobuki&quot;</span>;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#ab6eaa092677b34a152c9a11dfd3ff56f">enable_acceleration_limiter</a> = <span class="keyword">false</span>;</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.init(parameters);</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.enable();</div><div class="line">    <a class="code" href="classKobukiManager.html#a932be6e61aa406bc1a33c12281bc4499">slot_stream_data</a>.connect(<span class="stringliteral">&quot;/kobuki/stream_data&quot;</span>);</div><div class="line">  }</div><div class="line"></div><div class="line">  <a class="code" href="classKobukiManager.html#ac42d8ea226f1b7aed59781c58ceea311">~KobukiManager</a>() {</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0,0); <span class="comment">// linear_velocity, angular_velocity in (m/s), (rad/s)</span></div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.disable();</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> <a class="code" href="classKobukiManager.html#a8b7d112844422e6d0e1bb67acacfc6e5">processStreamData</a>() {</div><div class="line">    ecl::LegacyPose2D&lt;double&gt; pose_update;</div><div class="line">    ecl::linear_algebra::Vector3d pose_update_rates;</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.updateOdometry(pose_update, pose_update_rates);</div><div class="line">    <a class="code" href="classKobukiManager.html#a09ad00b627b9eb2f1ada188c8223705f">pose</a> *= pose_update;</div><div class="line">    <a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a> += pose_update.x();</div><div class="line">    <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a> += pose_update.heading();</div><div class="line">    <a class="code" href="classKobukiManager.html#a3f21876cbc4f349b4ae711395c8c2dd3">processMotion</a>();</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Generate square motion</span></div><div class="line">  <span class="keywordtype">void</span> <a class="code" href="classKobukiManager.html#a3f21876cbc4f349b4ae711395c8c2dd3">processMotion</a>() {</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a> &gt;= 1.0 &amp;&amp; <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a> &gt;= ecl::pi/2.0) { <a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a>=0.0; <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a>=0.0; <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.0, 0.0); <span class="keywordflow">return</span>; }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a> &gt;= 1.0) { <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.0, 3.3); <span class="keywordflow">return</span>; }</div><div class="line">    <span class="keywordflow">else</span> { <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.3, 0.0); <span class="keywordflow">return</span>; }</div><div class="line">  }</div><div class="line"></div><div class="line">  ecl::LegacyPose2D&lt;double&gt; <a class="code" href="classKobukiManager.html#ad21d150c9a8e1f5bc8d92b0e7913fe0a">getPose</a>() {</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="classKobukiManager.html#a09ad00b627b9eb2f1ada188c8223705f">pose</a>;</div><div class="line">  }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keywordtype">double</span> <a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a>, <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a>;</div><div class="line">  ecl::LegacyPose2D&lt;double&gt; <a class="code" href="classKobukiManager.html#a09ad00b627b9eb2f1ada188c8223705f">pose</a>;</div><div class="line">  <a class="code" href="classkobuki_1_1Kobuki.html">kobuki::Kobuki</a> <a class="code" href="classKobukiManager.html#aedbd8a41454f86c36938b15481688d4c">kobuki</a>;</div><div class="line">  ecl::Slot&lt;&gt; <a class="code" href="classKobukiManager.html#a932be6e61aa406bc1a33c12281bc4499">slot_stream_data</a>;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">/*****************************************************************************</span></div><div class="line"><span class="comment"> * Signal Handler</span></div><div class="line"><span class="comment">                                                                            */</span></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> <a class="code" href="simple__loop_8cpp.html#ad848ea54585ac98c0b4fc4c0fe4ef236">shutdown_req</a> = <span class="keyword">false</span>;</div><div class="line"><span class="keywordtype">void</span> <a class="code" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler</a>(<span class="keywordtype">int</span> signum) {</div><div class="line">  shutdown_req = <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/*****************************************************************************</span></div><div class="line"><span class="comment"> * Main</span></div><div class="line"><span class="comment">                                                                            */</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="initialisation_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  signal(SIGINT, <a class="code" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler</a>);</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Demo : Example of simple control loop.&quot;</span> &lt;&lt; std::endl;</div><div class="line">  <a class="code" href="classKobukiManager.html">KobukiManager</a> kobuki_manager;</div><div class="line"></div><div class="line">  ecl::Sleep sleep(1);</div><div class="line">  ecl::LegacyPose2D&lt;double&gt; <a class="code" href="classKobukiManager.html#a09ad00b627b9eb2f1ada188c8223705f">pose</a>;</div><div class="line">  <span class="keywordflow">try</span> {</div><div class="line">    <span class="keywordflow">while</span> (!shutdown_req){</div><div class="line">      sleep();</div><div class="line">      pose = kobuki_manager.<a class="code" href="classKobukiManager.html#ad21d150c9a8e1f5bc8d92b0e7913fe0a">getPose</a>();</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;current pose: [&quot;</span> &lt;&lt; pose.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pose.y() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pose.heading() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  } <span class="keywordflow">catch</span> ( ecl::StandardException &amp;e ) {</div><div class="line">    std::cout &lt;&lt; e.what();</div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Explanation"></a>
Explanation</h1>
<p>This simple control loop program process kobuki's stream data to retrive how far moved from last stream, and accumulate it to get current pose(position and orientation). And control the robot to following the simple squre path where each side is 1.0 meter.</p>
<h2><a class="anchor" id="includes"></a>
Includes</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;csignal&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/time.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/sigslots.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/geometry/pose2d.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ecl/linear_algebra.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="kobuki_8hpp.html">kobuki_driver/kobuki.hpp</a>&quot;</span></div></div><!-- fragment --><p>ecl::Sleep from ecl/time.hpp is used to throttle the rate of outputs of current pose printing. Signal handler from csignal also introduced to prevent unexpected behavior, when it quiting.</p>
<p>ecl/geometry/pose2d.hpp and ecl/linear_algebra.hpp is used to store and calculated robot pose from odometry info.</p>
<h2><a class="anchor" id="class"></a>
Class</h2>
<p>The <a class="el" href="classKobukiManager.html" title="Keyboard remote control for our robot core (mobile base). ">KobukiManager</a> class contains <a class="el" href="classkobuki_1_1Kobuki.html" title="The core kobuki driver class. ">kobuki::Kobuki</a> class, pose data and sigslot callback. <a class="el" href="classKobukiManager.html" title="Keyboard remote control for our robot core (mobile base). ">KobukiManager</a> class is extended from previous <a class="el" href="enSigslotsGuide.html">sigslots</a> examples. Now it has dx, dth and pose data.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="classKobukiManager.html">KobukiManager</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <a class="code" href="classKobukiManager.html#af719c61bfe21c8c3e35320edba20f7aa">KobukiManager</a>() :</div><div class="line">    <a class="code" href="classKobukiManager.html#ae27c93049cd6d6a5b8ab94ee16a5e1fa">dx</a>(0.0), <a class="code" href="classKobukiManager.html#aae56a5aba9c5860a6a4c0825838578e5">dth</a>(0.0),</div><div class="line">    <a class="code" href="classKobukiManager.html#a932be6e61aa406bc1a33c12281bc4499">slot_stream_data</a>(&amp;<a class="code" href="classKobukiManager.html">KobukiManager</a>::<a class="code" href="classKobukiManager.html#a8b7d112844422e6d0e1bb67acacfc6e5">processStreamData</a>, *this)</div><div class="line">  {</div><div class="line">    <a class="code" href="classkobuki_1_1Parameters.html">kobuki::Parameters</a> parameters;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#a0717933338e84bc7907f7e8345e2347e">sigslots_namespace</a> = <span class="stringliteral">&quot;/kobuki&quot;</span>;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#a993217236ea68f063f5bc285414408e2">device_port</a> = <span class="stringliteral">&quot;/dev/kobuki&quot;</span>;</div><div class="line">    parameters.<a class="code" href="classkobuki_1_1Parameters.html#ab6eaa092677b34a152c9a11dfd3ff56f">enable_acceleration_limiter</a> = <span class="keyword">false</span>;</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.init(parameters);</div><div class="line">    <a class="code" href="namespacekobuki.html">kobuki</a>.enable();</div><div class="line">    <a class="code" href="classKobukiManager.html#a932be6e61aa406bc1a33c12281bc4499">slot_stream_data</a>.connect(<span class="stringliteral">&quot;/kobuki/stream_data&quot;</span>);</div><div class="line">  }</div></div><!-- fragment --><p>Only <a class="el" href="classkobuki_1_1Kobuki.html#afa7f47487ef0224c1ce79f2d70de233b">kobuki.enable()</a> is added from previous sigslot exmaple. It will turn on motor power of kobuki. To moving kobuki, you should call this function before commanding wheel velocities.</p>
<div class="fragment"><div class="line">~<a class="code" href="classKobukiManager.html">KobukiManager</a>() {</div><div class="line">  <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0,0); <span class="comment">// linear_velocity, angular_velocity in (m/s), (rad/s)</span></div><div class="line">  <a class="code" href="namespacekobuki.html">kobuki</a>.disable();</div><div class="line">}</div></div><!-- fragment --><p>Destructor is added in this example. When quiting the porgam, this code will immediately stop the robot and disable it. It will improve the controllability in emergent condition, and will prevent unwanted behavior.</p>
<p><a class="el" href="classkobuki_1_1Kobuki.html#af016306e3114daf0c61ffbaae0b3d1a0">kobuki.setBaseControl()</a> is a function to send wheel command to robot. It's arguments are linear and angular velocities in (m/s) and (rad/s).</p>
<p><a class="el" href="classkobuki_1_1Kobuki.html#a9e4447e3b2bb177155ee681daccdc274">disable()</a> will turned off the motor power.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> processStreamData() {</div><div class="line">  ecl::LegacyPose2D&lt;double&gt; pose_update;</div><div class="line">  ecl::linear_algebra::Vector3d pose_update_rates;</div><div class="line">  <a class="code" href="namespacekobuki.html">kobuki</a>.updateOdometry(pose_update, pose_update_rates);</div><div class="line">  pose *= pose_update;</div><div class="line">  dx += pose_update.x();</div><div class="line">  dth += pose_update.heading();</div><div class="line">  processMotion();</div><div class="line">}</div></div><!-- fragment --><p>processStreamData() is slot callback function, when stream data is arrived from robot, this callback will be called.</p>
<p>@ <a class="el" href="classkobuki_1_1Kobuki.html#a20913af66616fd0242e38f9ab11228c6" title="Use the current sensor data (encoders and gyro) to calculate an update for the odometry. ">kobuki::Kobuki::updateOdometry()</a> method is used to retriving odometry data from last stream data. It returns <code>updated_pose</code> and <code>updated_pose_rate</code> that calculated from encoder ticks.</p>
<p>pose_update containts calculated linear and angular displacements between the stream. pose_update_rates contains calculated linear and angular velocities as well.</p>
<p>And, by perform below calculation:</p>
<div class="fragment"><div class="line">pose *= pose_update;</div></div><!-- fragment --><p>we can get accumulated pose from odoemtry.</p>
<div class="fragment"><div class="line"><span class="comment">// Generate square motion</span></div><div class="line"><span class="keywordtype">void</span> processMotion() {</div><div class="line">  <span class="keywordflow">if</span> (dx &gt;= 1.0 &amp;&amp; dth &gt;= ecl::pi/2.0) { dx=0.0; dth=0.0; <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.0, 0.0); <span class="keywordflow">return</span>; }</div><div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &gt;= 1.0) { <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.0, 3.3); <span class="keywordflow">return</span>; }</div><div class="line">  <span class="keywordflow">else</span> { <a class="code" href="namespacekobuki.html">kobuki</a>.setBaseControl(0.3, 0.0); <span class="keywordflow">return</span>; }</div><div class="line">}</div></div><!-- fragment --><p>processMotion() determines next base command to the robot. These commands will makes robot to follow squre path at the last, by running below commands repeatedly:</p>
<ul>
<li>go forward 1.0 meter </li>
<li>rotate counter-clockwise in 90 degree</li>
</ul>
<div class="fragment"><div class="line">ecl::LegacyPose2D&lt;double&gt; getPose() {</div><div class="line">  <span class="keywordflow">return</span> pose;</div><div class="line">}</div></div><!-- fragment --><p>getPose() is simple getter method for accumulated pose of robot.</p>
<div class="fragment"><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keywordtype">double</span> dx, dth;</div><div class="line">  ecl::LegacyPose2D&lt;double&gt; pose;</div><div class="line">  <a class="code" href="classkobuki_1_1Kobuki.html">kobuki::Kobuki</a> <a class="code" href="namespacekobuki.html">kobuki</a>;</div><div class="line">  ecl::Slot&lt;&gt; slot_stream_data;</div><div class="line">};</div></div><!-- fragment --><h2><a class="anchor" id="signalhandler"></a>
Signal Handler</h2>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> shutdown_req = <span class="keyword">false</span>;</div><div class="line"><span class="keywordtype">void</span> <a class="code" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler</a>(<span class="keywordtype">int</span> signum) {</div><div class="line">  shutdown_req = <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --><p>This part is signal handler. <a class="el" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler()</a> will be called when the SIGINT signal is catched(e.g. user pressed the ctrl+c keys). A bool variable, shutdown_req, setted to false will break the while loop in main function, and terminates program also. If there is no signal handler, program will terminated without calling destructor of <a class="el" href="classKobukiManager.html" title="Keyboard remote control for our robot core (mobile base). ">KobukiManager</a> class. And the robot will run last wheel command continuously until timed out(5 seconds by default).</p>
<h2><a class="anchor" id="main"></a>
Main</h2>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="initialisation_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  signal(SIGINT, <a class="code" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler</a>);</div></div><!-- fragment --><p>Call signal() function to install <a class="el" href="simple__loop_8cpp.html#a8ee3282bc313e547dbbb8d4f4010db61">signalHandler()</a>.</p>
<div class="fragment"><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Demo : Example of simple control loop.&quot;</span> &lt;&lt; std::endl;</div><div class="line">  <a class="code" href="classKobukiManager.html">KobukiManager</a> kobuki_manager;</div><div class="line"></div><div class="line">  ecl::Sleep sleep(1);</div><div class="line">  ecl::LegacyPose2D&lt;double&gt; pose;</div><div class="line">  <span class="keywordflow">try</span> {</div><div class="line">    <span class="keywordflow">while</span> (!shutdown_req){</div><div class="line">      sleep();</div><div class="line">      pose = kobuki_manager.<a class="code" href="classKobukiManager.html#ad21d150c9a8e1f5bc8d92b0e7913fe0a">getPose</a>();</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;current pose: [&quot;</span> &lt;&lt; pose.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pose.y() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pose.heading() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  } <span class="keywordflow">catch</span> ( ecl::StandardException &amp;e ) {</div><div class="line">    std::cout &lt;&lt; e.what();</div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Accumulated pose will be printed in every seconds. If you pressed ctrl+c keys, then robot will stop and program will be terminated.</p>
<h1><a class="anchor" id="enSimpleExampleMoreComplicated"></a>
More Complicated Example</h1>
<p>A far more detailed implementation can be found for the <a href="https://github.com/yujinrobot/kobuki/tree/devel/kobuki_node">kobuki_node</a> that runs within the ROS framework. </p>
</div></div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/kobuki_driver">kobuki_driver</a><br />
Author(s): Daniel Stonier <stonier@yujinrobot.com>, Younghun Ju <yhju@yujinrobot.com>, Jorge Santos Simon <jorge@yujinrobot.com></br />
<small>autogenerated on Mon Mar 27 2017 01:02:59</small>
</div>
</body>
</html>
